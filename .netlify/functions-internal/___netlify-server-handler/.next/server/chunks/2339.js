"use strict";exports.id=2339,exports.ids=[2339],exports.modules={7819:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(82614).A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},29844:(e,t,a)=>{a.d(t,{tU:()=>F,av:()=>G,j7:()=>R,Xi:()=>C});var r=a(60687),i=a(43210),n=a(70569),o=a(11273),d=a(72942),l=a(46059),s=a(3416),c=a(43),u=a(65551),f=a(96963),h="Tabs",[y,m]=(0,o.A)(h,[d.RG]),p=(0,d.RG)(),[v,b]=y(h),g=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,onValueChange:n,defaultValue:o,orientation:d="horizontal",dir:l,activationMode:h="automatic",...y}=e,m=(0,c.jH)(l),[p,b]=(0,u.i)({prop:i,onChange:n,defaultProp:o});return(0,r.jsx)(v,{scope:a,baseId:(0,f.B)(),value:p,onValueChange:b,orientation:d,dir:m,activationMode:h,children:(0,r.jsx)(s.sG.div,{dir:m,"data-orientation":d,...y,ref:t})})});g.displayName=h;var x="TabsList",w=i.forwardRef((e,t)=>{let{__scopeTabs:a,loop:i=!0,...n}=e,o=b(x,a),l=p(a);return(0,r.jsx)(d.bL,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:i,children:(0,r.jsx)(s.sG.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:t})})});w.displayName=x;var k="TabsTrigger",A=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,disabled:o=!1,...l}=e,c=b(k,a),u=p(a),f=D(c.baseId,i),h=N(c.baseId,i),y=i===c.value;return(0,r.jsx)(d.q7,{asChild:!0,...u,focusable:!o,active:y,children:(0,r.jsx)(s.sG.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":h,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:(0,n.m)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;y||o||!e||c.onValueChange(i)})})})});A.displayName=k;var M="TabsContent",j=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,forceMount:o,children:d,...c}=e,u=b(M,a),f=D(u.baseId,n),h=N(u.baseId,n),y=n===u.value,m=i.useRef(y);return i.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(l.C,{present:o||y,children:({present:a})=>(0,r.jsx)(s.sG.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!a,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:a&&d})})});function D(e,t){return`${e}-trigger-${t}`}function N(e,t){return`${e}-content-${t}`}j.displayName=M;var E=a(4780);let F=g,R=i.forwardRef(({className:e,...t},a)=>(0,r.jsx)(w,{ref:a,className:(0,E.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));R.displayName=w.displayName;let C=i.forwardRef(({className:e,...t},a)=>(0,r.jsx)(A,{ref:a,className:(0,E.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));C.displayName=A.displayName;let G=i.forwardRef(({className:e,...t},a)=>(0,r.jsx)(j,{ref:a,className:(0,E.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));G.displayName=j.displayName},35137:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(82614).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},35265:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(82614).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},44610:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(82614).A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},47237:(e,t,a)=>{a.d(t,{j:()=>d});var r=a(43210),i=a(75535),n=a(33784),o=a(31568);let d=(e,t={})=>{let{user:a,loading:d}=(0,o.A)(),[l,s]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[f,h]=(0,r.useState)(!1),[y,m]=(0,r.useState)(null),[p,v]=(0,r.useState)(null),[b,g]=(0,r.useState)(!0),x=(0,r.useMemo)(()=>t,[t.daily,t.limit]),w=(0,r.useCallback)(async(t=!1,r=null)=>{if(!a)return void u(!1);t?h(!0):u(!0),m(null);try{console.log("Fetching data for user:",a.uid,"path:",e);let o=[(0,i._M)("userId","==",a.uid)];if(x.daily){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate());o.push((0,i._M)("createdAt",">=",i.Dc.fromDate(t)))}o.push((0,i.My)("createdAt","desc"));let d=x.limit||10;x.limit&&o.push((0,i.AB)(d)),t&&r&&o.push((0,i.HM)(r));let l=(0,i.P)((0,i.rJ)(n.db,e),...o),c=await (0,i.GG)(l),u=c.docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt.toDate()}));console.log(`Fetched ${u.length} documents from ${e}:`,u);let f=c.docs[c.docs.length-1]||null;v(f),g(!!x.limit&&u.length===d),t?s(e=>[...e,...u]):s(u)}catch(t){console.error("Error fetching data from",e,":",t),m(t instanceof Error?t:Error("Failed to fetch data"))}finally{u(!1),h(!1)}},[a,e,x]);(0,r.useEffect)(()=>{if(d)return void u(!0);a?(console.log("User authenticated, fetching data for path:",e),w(!1,null)):(console.log("No user, clearing data for path:",e),s([]),u(!1),g(!1),v(null),m(null))},[a,d,e]);let k=async(t,r)=>{if(!a){let e=Error("User not authenticated");throw m(e),e}let o=[...l];s(e=>e.map(e=>e.id===t?{...e,...r}:e));try{let a=(0,i.H9)(n.db,e,t);await (0,i.mZ)(a,r)}catch(e){throw m(e instanceof Error?e:Error("Failed to update document")),s(o),e}},A=async t=>{if(!a){let e=Error("User not authenticated");throw m(e),e}let r=[...l];s(e=>e.filter(e=>e.id!==t));try{await (0,i.kd)((0,i.H9)(n.db,e,t))}catch(e){throw m(e instanceof Error?e:Error("Failed to delete document")),s(r),e}};return{data:l,loading:c,error:y,addDocument:async t=>{if(!a){let e=Error("User not authenticated");throw m(e),e}let r=`temp_${Date.now()}`,o={id:r,...t,userId:a.uid,createdAt:new Date};s(e=>[o,...e].sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()));try{let o=await (0,i.gS)((0,i.rJ)(n.db,e),{...t,userId:a.uid,createdAt:i.Dc.now()});return s(e=>e.map(e=>e.id===r?{...e,id:o.id}:e)),o.id}catch(e){throw m(e instanceof Error?e:Error("Failed to add document")),s(e=>e.filter(e=>e.id!==r)),e}},updateDocument:k,deleteDocument:A,refetch:()=>w(!1,null),loadMore:()=>{b&&!f&&w(!0,p)},hasMore:b,loadingMore:f}}},57207:(e,t,a)=>{a.d(t,{A:()=>r});let r=(0,a(82614).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},78148:(e,t,a)=>{a.d(t,{b:()=>d});var r=a(43210),i=a(3416),n=a(60687),o=r.forwardRef((e,t)=>(0,n.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var d=o},80013:(e,t,a)=>{a.d(t,{J:()=>s});var r=a(60687),i=a(43210),n=a(78148),o=a(24224),d=a(4780);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),s=i.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.b,{ref:a,className:(0,d.cn)(l(),e),...t}));s.displayName=n.b.displayName}};