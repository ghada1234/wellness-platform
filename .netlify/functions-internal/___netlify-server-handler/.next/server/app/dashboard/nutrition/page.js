(()=>{var e={};e.id=7266,e.ids=[7266],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6211:(e,a,s)=>{"use strict";s.d(a,{A0:()=>l,BF:()=>d,Hj:()=>o,XI:()=>n,nA:()=>h,nd:()=>c});var t=s(60687),r=s(43210),i=s(4780);let n=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",e),...a})}));n.displayName="Table";let l=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",e),...a}));l.displayName="TableHeader";let d=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...a}));d.displayName="TableBody",r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("tfoot",{ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));o.displayName="TableRow";let c=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));c.displayName="TableHead";let h=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));h.displayName="TableCell",r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},6680:(e,a,s)=>{Promise.resolve().then(s.bind(s,40928))},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14975:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(82614).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},15079:(e,a,s)=>{"use strict";s.d(a,{bq:()=>x,eb:()=>f,gC:()=>p,l6:()=>c,yv:()=>h});var t=s(60687),r=s(43210),i=s(28695),n=s(61662),l=s(89743),d=s(58450),o=s(4780);let c=i.bL;i.YJ;let h=i.WT,x=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(i.l9,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,(0,t.jsx)(i.In,{asChild:!0,children:(0,t.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=i.l9.displayName;let m=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(i.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})}));m.displayName=i.PP.displayName;let u=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(i.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})}));u.displayName=i.wn.displayName;let p=r.forwardRef(({className:e,children:a,position:s="popper",...r},n)=>(0,t.jsx)(i.ZL,{children:(0,t.jsxs)(i.UC,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,t.jsx)(m,{}),(0,t.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(u,{})]})}));p.displayName=i.UC.displayName,r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(i.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=i.JU.displayName;let f=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(i.q7,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(i.p4,{children:a})]}));f.displayName=i.q7.displayName,r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(i.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=i.wv.displayName},15272:(e,a,s)=>{"use strict";s.d(a,{f:()=>d});var t=s(43210),r=s(75535),i=s(33784),n=s(31568);let l=()=>{let e=new Date,a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${a}-${s}-${t}`},d=()=>{let{user:e}=(0,n.A)(),[a,s]=(0,t.useState)({glasses:0,goal:8}),[d,o]=(0,t.useState)(!0),[c,h]=(0,t.useState)(null),[x,m]=(0,t.useState)(!1),u=(0,t.useRef)(null),p=l(),f=(0,t.useCallback)(async()=>{if(!e)return void o(!1);o(!0),h(null);try{let a=(0,r.H9)(i.db,"waterIntake",`${e.uid}_${p}`),t=await (0,r.x7)(a);if(t.exists()){let e=t.data();s({glasses:e.glasses,goal:e.goal}),m(!0)}else s({glasses:0,goal:8}),m(!1)}catch(e){h(e instanceof Error?e:Error("Failed to fetch water intake"))}finally{o(!1)}},[e,p]);(0,t.useEffect)(()=>{f()},[f]);let j=(0,t.useCallback)(async(a,s)=>{if(!e)return void h(Error("User not authenticated"));try{let t=(0,r.H9)(i.db,"waterIntake",`${e.uid}_${p}`);if(x){let e={glasses:a,updatedAt:r.Dc.now()};void 0!==s&&(e.goal=s),await (0,r.mZ)(t,e)}else{let i={id:p,userId:e.uid,glasses:a,goal:s||8,date:p,createdAt:r.Dc.now(),updatedAt:r.Dc.now()};await (0,r.BN)(t,i),m(!0)}h(null)}catch(e){h(e instanceof Error?e:Error("Failed to update water intake"))}},[e,p,x]),g=async t=>{if(!e)return void h(Error("User not authenticated"));try{s(e=>({...e,goal:t})),await j(a.glasses,t)}catch(e){h(e instanceof Error?e:Error("Failed to update water goal"))}};return(0,t.useEffect)(()=>()=>{u.current&&clearTimeout(u.current)},[]),{waterIntake:a,loading:d,error:c,updateWaterIntake:a=>{if(!e)return void h(Error("User not authenticated"));s(e=>({...e,glasses:a})),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{j(a)},1500)},updateWaterGoal:g}}},16408:(e,a,s)=>{Promise.resolve().then(s.bind(s,97075))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29844:(e,a,s)=>{"use strict";s.d(a,{tU:()=>M,av:()=>R,j7:()=>P,Xi:()=>$});var t=s(60687),r=s(43210),i=s(70569),n=s(11273),l=s(72942),d=s(46059),o=s(3416),c=s(43),h=s(65551),x=s(96963),m="Tabs",[u,p]=(0,n.A)(m,[l.RG]),f=(0,l.RG)(),[j,g]=u(m),y=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:d,activationMode:m="automatic",...u}=e,p=(0,c.jH)(d),[f,g]=(0,h.i)({prop:r,onChange:i,defaultProp:n});return(0,t.jsx)(j,{scope:s,baseId:(0,x.B)(),value:f,onValueChange:g,orientation:l,dir:p,activationMode:m,children:(0,t.jsx)(o.sG.div,{dir:p,"data-orientation":l,...u,ref:a})})});y.displayName=m;var v="TabsList",N=r.forwardRef((e,a)=>{let{__scopeTabs:s,loop:r=!0,...i}=e,n=g(v,s),d=f(s);return(0,t.jsx)(l.bL,{asChild:!0,...d,orientation:n.orientation,dir:n.dir,loop:r,children:(0,t.jsx)(o.sG.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:a})})});N.displayName=v;var b="TabsTrigger",w=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,disabled:n=!1,...d}=e,c=g(b,s),h=f(s),x=C(c.baseId,r),m=F(c.baseId,r),u=r===c.value;return(0,t.jsx)(l.q7,{asChild:!0,...h,focusable:!n,active:u,children:(0,t.jsx)(o.sG.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":m,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:x,...d,ref:a,onMouseDown:(0,i.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,i.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,i.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;u||n||!e||c.onValueChange(r)})})})});w.displayName=b;var k="TabsContent",A=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:i,forceMount:n,children:l,...c}=e,h=g(k,s),x=C(h.baseId,i),m=F(h.baseId,i),u=i===h.value,p=r.useRef(u);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(d.C,{present:n||u,children:({present:s})=>(0,t.jsx)(o.sG.div,{"data-state":u?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":x,hidden:!s,id:m,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:p.current?"0s":void 0},children:s&&l})})});function C(e,a){return`${e}-trigger-${a}`}function F(e,a){return`${e}-content-${a}`}A.displayName=k;var S=s(4780);let M=y,P=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(N,{ref:s,className:(0,S.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));P.displayName=N.displayName;let $=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(w,{ref:s,className:(0,S.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));$.displayName=w.displayName;let R=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(A,{ref:s,className:(0,S.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));R.displayName=A.displayName},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35265:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(82614).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},37366:e=>{"use strict";e.exports=require("dns")},40928:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/nutrition/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/nutrition/page.tsx","default")},41936:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(82614).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},46657:(e,a,s)=>{"use strict";s.d(a,{k:()=>N});var t=s(60687),r=s(43210),i=s(11273),n=s(3416),l="Progress",[d,o]=(0,i.A)(l),[c,h]=d(l),x=r.forwardRef((e,a)=>{var s,r;let{__scopeProgress:i,value:l=null,max:d,getValueLabel:o=p,...h}=e;(d||0===d)&&!g(d)&&console.error((s=`${d}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=g(d)?d:100;null===l||y(l,x)||console.error((r=`${l}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=y(l,x)?l:null,u=j(m)?o(m,x):void 0;return(0,t.jsx)(c,{scope:i,value:m,max:x,children:(0,t.jsx)(n.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":j(m)?m:void 0,"aria-valuetext":u,role:"progressbar","data-state":f(m,x),"data-value":m??void 0,"data-max":x,...h,ref:a})})});x.displayName=l;var m="ProgressIndicator",u=r.forwardRef((e,a)=>{let{__scopeProgress:s,...r}=e,i=h(m,s);return(0,t.jsx)(n.sG.div,{"data-state":f(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:a})});function p(e,a){return`${Math.round(e/a*100)}%`}function f(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function j(e){return"number"==typeof e}function g(e){return j(e)&&!isNaN(e)&&e>0}function y(e,a){return j(e)&&!isNaN(e)&&e<=a&&e>=0}u.displayName=m;var v=s(4780);let N=r.forwardRef(({className:e,value:a,...s},r)=>(0,t.jsx)(x,{ref:r,className:(0,v.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,t.jsx)(u,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));N.displayName=x.displayName},54052:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(82614).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},55511:e=>{"use strict";e.exports=require("crypto")},58595:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(82614).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>m,Es:()=>p,HM:()=>h,L3:()=>f,c7:()=>u,lG:()=>d,rr:()=>j,zM:()=>o});var t=s(60687),r=s(43210),i=s(10991),n=s(78726),l=s(4780);let d=i.bL,o=i.l9,c=i.ZL,h=i.bm,x=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(i.hJ,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));x.displayName=i.hJ.displayName;let m=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(c,{children:[(0,t.jsx)(x,{}),(0,t.jsxs)(i.UC,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=i.UC.displayName;let u=({className:e,...a})=>(0,t.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});u.displayName="DialogHeader";let p=({className:e,...a})=>(0,t.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});p.displayName="DialogFooter";let f=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(i.hE,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));f.displayName=i.hE.displayName;let j=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(i.VY,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));j.displayName=i.VY.displayName},70137:(e,a,s)=>{"use strict";s.d(a,{$m:()=>c,As:()=>o,nD:()=>d,ub:()=>h});var t=s(60687),r=s(43210),i=s(22198),n=s(61662),l=s(4780);let d=i.bL,o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(i.q7,{ref:s,className:(0,l.cn)("border-b",e),...a}));o.displayName="AccordionItem";let c=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsx)(i.Y9,{className:"flex",children:(0,t.jsxs)(i.l9,{ref:r,className:(0,l.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...s,children:[a,(0,t.jsx)(n.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));c.displayName=i.l9.displayName;let h=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsx)(i.UC,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:(0,t.jsx)("div",{className:(0,l.cn)("pb-4 pt-0",e),children:a})}));h.displayName=i.UC.displayName},71669:(e,a,s)=>{"use strict";s.d(a,{C5:()=>j,MJ:()=>f,eI:()=>u,lR:()=>p,lV:()=>o,zB:()=>h});var t=s(60687),r=s(43210),i=s(11329),n=s(27605),l=s(4780),d=s(80013);let o=n.Op,c=r.createContext({}),h=({...e})=>(0,t.jsx)(c.Provider,{value:{name:e.name},children:(0,t.jsx)(n.xI,{...e})}),x=()=>{let e=r.useContext(c),a=r.useContext(m),{getFieldState:s,formState:t}=(0,n.xW)(),i=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=a;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...i}},m=r.createContext({}),u=r.forwardRef(({className:e,...a},s)=>{let i=r.useId();return(0,t.jsx)(m.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:s,className:(0,l.cn)("space-y-2",e),...a})})});u.displayName="FormItem";let p=r.forwardRef(({className:e,...a},s)=>{let{error:r,formItemId:i}=x();return(0,t.jsx)(d.J,{ref:s,className:(0,l.cn)(r&&"text-destructive",e),htmlFor:i,...a})});p.displayName="FormLabel";let f=r.forwardRef(({...e},a)=>{let{error:s,formItemId:r,formDescriptionId:n,formMessageId:l}=x();return(0,t.jsx)(i.DX,{ref:a,id:r,"aria-describedby":s?`${n} ${l}`:`${n}`,"aria-invalid":!!s,...e})});f.displayName="FormControl",r.forwardRef(({className:e,...a},s)=>{let{formDescriptionId:r}=x();return(0,t.jsx)("p",{ref:s,id:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...a})}).displayName="FormDescription";let j=r.forwardRef(({className:e,children:a,...s},r)=>{let{error:i,formMessageId:n}=x(),d=i?String(i?.message??""):a;return d?(0,t.jsx)("p",{ref:r,id:n,className:(0,l.cn)("text-sm font-medium text-destructive",e),...s,children:d}):null});j.displayName="FormMessage"},71839:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(82614).A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},75924:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>o});var t=s(65239),r=s(48088),i=s(88170),n=s.n(i),l=s(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(a,d);let o={children:["",{children:["dashboard",{children:["nutrition",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,40928)),"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/nutrition/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,63144)),"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/ghadaalani/Desktop/mind-main/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/nutrition/page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/nutrition/page",pathname:"/dashboard/nutrition",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96834:(e,a,s)=>{"use strict";s.d(a,{E:()=>l});var t=s(60687);s(43210);var r=s(24224),i=s(4780);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,...s}){return(0,t.jsx)("div",{className:(0,i.cn)(n({variant:a}),e),...s})}},97075:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ei});var t=s(60687),r=s(43210),i=s(30474),n=s(85814),l=s.n(n),d=s(70137),o=s(29523),c=s(44493),h=s(46657),x=s(29844),m=s(63503),u=s(89667),p=s(80013),f=s(69918),j=s(15079),g=s(71669),y=s(27605),v=s(63442),N=s(43214),b=s(47761),w=s(82614);let k=(0,w.A)("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]),A=(0,w.A)("Soup",[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]]);var C=s(2614);let F=(0,w.A)("CakeSlice",[["circle",{cx:"9",cy:"7",r:"2",key:"1305pl"}],["path",{d:"M7.2 7.9 3 11v9c0 .6.4 1 1 1h16c.6 0 1-.4 1-1v-9c0-2-3-6-7-8l-3.6 2.6",key:"xle13f"}],["path",{d:"M16 13H3",key:"1wpj08"}],["path",{d:"M16 17H3",key:"3lvfcd"}]]);var S=s(71839),M=s(28326),P=s(26838),$=s(35265),R=s(11516);let D=(0,w.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var I=s(41936);let T=(0,w.A)("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);var E=s(35137),z=s(57207);let L=(0,w.A)("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]),q=(0,w.A)("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]),Z=(0,w.A)("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]),B=(0,w.A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var H=s(40219),U=s(54052),G=s(14975),W=s(58595),V=s(24555),_=s(20620),O=s(87482),J=s(29867),Y=s(6211),X=s(96834),K=s(47237),Q=(s(28635),s(15272));let ee=[{type:"Breakfast",icon:b.A,emoji:"\uD83E\uDD5E",description:"No entries for Breakfast today."},{type:"Lunch",icon:k,emoji:"\uD83E\uDD57",description:"No entries for Lunch today."},{type:"Dinner",icon:A,emoji:"\uD83C\uDF72",description:"No entries for Dinner today."},{type:"Snack",icon:C.A,emoji:"\uD83C\uDF4E",description:"No entries for Snack today."},{type:"Dessert",icon:F,emoji:"\uD83C\uDF70",description:"No entries for Dessert today."}],ea=[{value:"Breakfast",label:"Breakfast",emoji:"\uD83E\uDD5E"},{value:"Lunch",label:"Lunch",emoji:"\uD83E\uDD57"},{value:"Dinner",label:"Dinner",emoji:"\uD83C\uDF72"},{value:"Snack",label:"Snack",emoji:"\uD83C\uDF4E"},{value:"Dessert",label:"Dessert",emoji:"\uD83C\uDF70"}],es=N.Ik({duration:N.au.number().min(1,{message:"Plan duration is required."})}),et={breakfast:"\uD83E\uDD5E",lunch:"\uD83E\uDD57",dinner:"\uD83C\uDF72"},er=(e,a)=>{let s=`âœ¨ Your Personalized ${a}-Day Meal Plan âœ¨

`;return e.plan.forEach(e=>{s+=`====================
ðŸ—“ï¸ **${e.day}**
====================

`,["breakfast","lunch","dinner"].forEach(a=>{let t=e[a],r=et[a]||"\uD83C\uDF7Dï¸";s+=`--- ${r} **${a.charAt(0).toUpperCase()+a.slice(1)}: ${t.name}** ---
_${t.description}_

**Ingredients:**
- ${t.ingredients.join("\n- ")}

**Instructions:**
${t.instructions}

*Nutrition:* ${t.calories.toFixed(0)} kcal | ${t.protein.toFixed(1)}g protein | ${t.carbohydrates.toFixed(1)}g carbs | ${t.fat.toFixed(1)}g fat

`}),s+=`--- **ðŸ“Š Daily Totals** ---
*Calories:* ${e.dailyTotals.calories.toFixed(0)} kcal
*Protein:* ${e.dailyTotals.protein.toFixed(1)}g
*Carbohydrates:* ${e.dailyTotals.carbohydrates.toFixed(1)}g
*Fat:* ${e.dailyTotals.fat.toFixed(1)}g

`}),s};function ei(){let{data:e,addDocument:a,deleteDocument:s}=(0,K.j)("mealEntries",{daily:!0}),{data:n,addDocument:N,deleteDocument:b,loading:w}=(0,K.j)("savedMealPlans"),{waterIntake:k,updateWaterIntake:A,loading:C}=(0,Q.f)(),[F,ei]=r.useState(!1),[en,el]=r.useState(null),[ed,eo]=r.useState(null),[ec,eh]=r.useState(!1),[ex,em]=r.useState(""),[eu,ep]=r.useState(null),[ef,ej]=r.useState(!1),[eg,ey]=r.useState(null),[ev,eN]=r.useState(null),[eb,ew]=r.useState("Breakfast"),[ek,eA]=r.useState(!1),[eC,eF]=r.useState(null),[eS,eM]=r.useState("today"),{toast:eP}=(0,J.dj)(),e$=r.useRef(null),eR=r.useRef(null),eD=(0,y.mN)({resolver:(0,v.u)(es),defaultValues:{duration:7}}),eI=async e=>{let a=e.target.files?.[0];if(!a)return;ei(!0),el(null),eo(null);let s=new FileReader;s.readAsDataURL(a),s.onload=async()=>{let e=s.result;eo(e);try{let a=await fetch("/api/ai/analyze-food",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({photoDataUri:e})});if(!a.ok)throw Error("Failed to analyze food photo");let s=await a.json();el(s)}catch(e){console.error("Error analyzing food photo:",e),eP({variant:"destructive",title:"Analysis Failed",description:"Could not analyze the photo. Please try another image."}),eo(null)}finally{ei(!1)}},s.onerror=e=>{console.error("Error reading file:",e),eP({variant:"destructive",title:"File Error",description:"Could not read the selected file."}),ei(!1),eo(null)}},[eT,eE]=r.useState(!1),ez=async()=>{if(ex.trim()){eh(!0);try{let e=await fetch("/api/ai/search-food",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:ex})});if(!e.ok)throw Error("Failed to search food");let a=await e.json();ep(a),eE(!1)}catch(e){console.error("Error searching food:",e),eP({variant:"destructive",title:"Search Failed",description:"Could not search for food items. Please try again."})}finally{eh(!1)}}},eL=async e=>{let a=e.target.files?.[0];if(!a)return;ej(!0),ey(null),eN(null);let s=new FileReader;s.readAsDataURL(a),s.onload=async()=>{let e=s.result;eN(e);try{let a=await fetch("/api/ai/scan-nutrition-label",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({photoDataUri:e})});if(!a.ok)throw Error("Failed to scan nutrition label");let s=await a.json();ey(s)}catch(e){console.error("Error scanning nutrition label:",e),eP({variant:"destructive",title:"Scan Failed",description:"Could not scan the nutrition label. Please try another image."}),eN(null)}finally{ej(!1)}},s.onerror=e=>{console.error("Error reading file:",e),eP({variant:"destructive",title:"File Error",description:"Could not read the selected file."}),ej(!1),eN(null)}},eq=async e=>{try{await a({type:eb,items:[{name:e.name,portionSize:e.portionSize,weight:e.weight,calories:e.calories,protein:e.protein,carbohydrates:e.carbohydrates,fat:e.fat,sugar:e.sugar,sodium:e.sodium,fiber:e.fiber}],createdAt:new Date}),eP({title:"Food Added!",description:`${e.name} has been added to your ${eb}.`}),ep(null),em(""),eE(!1)}catch(e){console.error("Error adding food:",e),eP({variant:"destructive",title:"Failed to Add Food",description:"Could not add the food item. Please try again."})}},eZ=async e=>{try{let s=e.nutritionInfo;await a({type:eb,items:[{name:s.name,portionSize:s.servingSize,weight:0,calories:s.calories,protein:s.protein,carbohydrates:s.totalCarbohydrates,fat:s.totalFat,sugar:s.totalSugars,sodium:s.sodium,fiber:s.dietaryFiber}],createdAt:new Date}),eP({title:"Food Added!",description:`${s.name} has been added to your ${eb}.`}),ey(null),eN(null)}catch(e){console.error("Error adding scanned food:",e),eP({variant:"destructive",title:"Failed to Add Food",description:"Could not add the scanned food item. Please try again."})}},eB=async()=>{if(en)try{await a({type:eb,items:en.foodItems}),el(null),eo(null),eP({title:"Meal Logged!",description:`Your ${eb} has been added to your daily intake.`})}catch(e){eP({variant:"destructive",title:"Failed to Log Meal",description:"Could not save your meal. Please try again."})}},eH=()=>{el(null),eo(null)},eU=async e=>{try{await s(e),eP({title:"Meal entry deleted."})}catch(e){eP({variant:"destructive",title:"Failed to Delete",description:"Could not delete meal entry."})}},eG=async e=>{eA(!0),eF(null);try{let a=localStorage.getItem("user-nutrition-profile");if(!a){eP({variant:"destructive",title:"Profile Not Found",description:"Please set up your profile before generating a meal plan."}),eA(!1);return}let s={...JSON.parse(a),duration:e.duration},t=await fetch("/api/ai/generate-meal-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok)throw Error("Failed to generate meal plan");let r=await t.json();eF(r),eP({title:"Meal Plan Generated!",description:`Your personalized ${e.duration}-day meal plan is ready.`})}catch(e){console.error("Error generating meal plan:",e),eP({variant:"destructive",title:"Failed to Generate Plan",description:"An unexpected error occurred. Please try again."})}finally{eA(!1)}},eW=async()=>{if(eC)try{await N({duration:eD.getValues("duration"),plan:eC,createdAt:new Date}),eP({title:"Plan Saved!",description:"Your meal plan has been saved successfully."}),eM("saved-plans")}catch(e){eP({variant:"destructive",title:"Failed to Save Plan",description:"Could not save your meal plan."})}},eV=async e=>{try{await b(e),eP({title:"Saved plan deleted."})}catch(e){eP({variant:"destructive",title:"Failed to Delete",description:"Could not delete saved plan."})}},e_=r.useMemo(()=>e.reduce((e,a)=>(e[a.type]||(e[a.type]=[]),e[a.type].push(a),e),{}),[e]),eO=r.useMemo(()=>e.flatMap(e=>e.items).reduce((e,a)=>(e.calories+=a.calories,e.protein+=a.protein,e.carbohydrates+=a.carbohydrates,e.fat+=a.fat,e.fiber+=a.fiber,e.sugar+=a.sugar,e.sodium+=a.sodium,e),{calories:0,protein:0,carbohydrates:0,fat:0,fiber:0,sugar:0,sodium:0}),[e]),eJ=Math.min(eO.calories/2e3*100,100);return(0,t.jsxs)("div",{className:"flex-1 space-y-6 p-4 md:p-6",children:[(0,t.jsx)("input",{type:"file",ref:e$,onChange:eI,className:"hidden",accept:"image/*"}),(0,t.jsx)("input",{type:"file",ref:eR,onChange:eL,className:"hidden",accept:"image/*"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Nutrition Tracker"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Log your meals, track your intake, and discover nutritional insights."})]}),(0,t.jsxs)(x.tU,{value:eS,onValueChange:eM,children:[(0,t.jsxs)("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[(0,t.jsxs)(x.j7,{className:"h-auto flex-wrap justify-start sm:h-10 sm:flex-nowrap sm:justify-center",children:[(0,t.jsx)(x.Xi,{value:"today",children:"Today's Intake"}),(0,t.jsxs)(x.Xi,{value:"insights",children:[(0,t.jsx)(S.A,{className:"mr-2 h-4 w-4"}),"Insights"]}),(0,t.jsxs)(x.Xi,{value:"planner",children:[(0,t.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"AI Planner"]}),(0,t.jsxs)(x.Xi,{value:"saved-plans",children:[(0,t.jsx)(P.A,{className:"mr-2 h-4 w-4 text-current"}),"Saved Plans"]})]}),(0,t.jsxs)(m.lG,{children:[(0,t.jsx)(m.zM,{asChild:!0,children:(0,t.jsxs)(o.$,{children:[(0,t.jsx)($.A,{className:"mr-2 h-4 w-4"}),"Add Food"]})}),(0,t.jsxs)(m.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(m.c7,{children:[(0,t.jsx)(m.L3,{children:"Add a Meal"}),(0,t.jsx)(m.rr,{children:"Log food by photo, search, or scanning a nutrition label."})]}),(0,t.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(p.J,{children:"Meal Type"}),(0,t.jsx)(f.z,{defaultValue:eb,onValueChange:e=>ew(e),className:"flex flex-wrap gap-4",children:ea.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.C,{value:e.value,id:e.value}),(0,t.jsxs)(p.J,{htmlFor:e.value,className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("span",{children:e.emoji}),e.label]})]},e.value))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(o.$,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>{e$.current?.click()},disabled:F,children:[F?(0,t.jsx)(R.A,{className:"animate-spin"}):(0,t.jsx)(D,{}),F?"Analyzing...":"Log with Photo"]}),(0,t.jsxs)(o.$,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>{eE(!0)},children:[(0,t.jsx)(I.A,{}),"Log with Search"]}),(0,t.jsxs)(o.$,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>{eR.current?.click()},children:[(0,t.jsx)(T,{}),"Scan Nutrition Label"]})]})]})]})]}),(0,t.jsx)(m.lG,{open:!!en,onOpenChange:e=>!e&&eH(),children:(0,t.jsxs)(m.Cf,{className:"sm:max-w-lg",children:[(0,t.jsxs)(m.c7,{children:[(0,t.jsxs)(m.L3,{children:["Confirm Your Meal for ",eb]}),(0,t.jsx)(m.rr,{children:"Here's what our AI found in your photo. Confirm to add it to your log."})]}),en&&(0,t.jsxs)("div",{className:"max-h-[60vh] space-y-4 overflow-y-auto p-1",children:[ed&&(0,t.jsx)("div",{className:"relative aspect-video w-full overflow-hidden rounded-md",children:(0,t.jsx)(i.default,{src:ed,alt:"Uploaded meal",layout:"fill",objectFit:"cover"})}),(0,t.jsxs)(Y.XI,{children:[(0,t.jsx)(Y.A0,{children:(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nd,{children:"Food Item"}),(0,t.jsx)(Y.nd,{children:"Portion Size"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Weight"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Calories"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Protein"})]})}),(0,t.jsx)(Y.BF,{children:en.foodItems.map(e=>(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nA,{className:"font-medium",children:e.name}),(0,t.jsx)(Y.nA,{children:e.portionSize}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[e.weight.toFixed(0),"g"]}),(0,t.jsx)(Y.nA,{className:"text-right",children:e.calories.toFixed(0)}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[e.protein.toFixed(1),"g"]})]},e.name))})]})]}),(0,t.jsxs)(m.Es,{children:[(0,t.jsx)(m.HM,{asChild:!0,children:(0,t.jsx)(o.$,{variant:"outline",onClick:eH,children:"Cancel"})}),(0,t.jsx)(m.HM,{asChild:!0,children:(0,t.jsx)(o.$,{onClick:eB,children:"Confirm"})})]})]})}),(0,t.jsx)(m.lG,{open:eT,onOpenChange:eE,children:(0,t.jsxs)(m.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(m.c7,{children:[(0,t.jsx)(m.L3,{children:"Search for Food"}),(0,t.jsx)(m.rr,{children:"Enter the name of a food item to search for nutritional information."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.J,{htmlFor:"search-query",children:"Food Item"}),(0,t.jsx)(u.p,{id:"search-query",value:ex,onChange:e=>em(e.target.value),placeholder:"e.g., apple, chicken breast, pasta...",onKeyDown:e=>{"Enter"===e.key&&ez()}})]})}),(0,t.jsxs)(m.Es,{children:[(0,t.jsx)(o.$,{variant:"outline",onClick:()=>eE(!1),children:"Cancel"}),(0,t.jsxs)(o.$,{onClick:ez,disabled:!ex.trim()||ec,children:[ec?(0,t.jsx)(R.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(I.A,{className:"mr-2 h-4 w-4"}),ec?"Searching...":"Search"]})]})]})}),(0,t.jsx)(m.lG,{open:!!eu,onOpenChange:e=>!e&&ep(null),children:(0,t.jsxs)(m.Cf,{className:"sm:max-w-lg",children:[(0,t.jsxs)(m.c7,{children:[(0,t.jsxs)(m.L3,{children:['Search Results for "',ex,'"']}),(0,t.jsxs)(m.rr,{children:["Select a food item to add to your ",eb,"."]})]}),eu&&(0,t.jsx)("div",{className:"max-h-[60vh] space-y-4 overflow-y-auto p-1",children:(0,t.jsxs)(Y.XI,{children:[(0,t.jsx)(Y.A0,{children:(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nd,{children:"Food Item"}),(0,t.jsx)(Y.nd,{children:"Portion Size"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Weight"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Calories"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Protein"})]})}),(0,t.jsx)(Y.BF,{children:eu.foodItems.map((e,a)=>(0,t.jsxs)(Y.Hj,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>eq(e),children:[(0,t.jsx)(Y.nA,{className:"font-medium",children:e.name}),(0,t.jsx)(Y.nA,{children:e.portionSize}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[e.weight.toFixed(0),"g"]}),(0,t.jsx)(Y.nA,{className:"text-right",children:e.calories.toFixed(0)}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[e.protein.toFixed(1),"g"]})]},a))})]})}),(0,t.jsx)(m.Es,{children:(0,t.jsx)(m.HM,{asChild:!0,children:(0,t.jsx)(o.$,{variant:"outline",children:"Cancel"})})})]})}),(0,t.jsx)(m.lG,{open:!!eg,onOpenChange:e=>!e&&ey(null),children:(0,t.jsxs)(m.Cf,{className:"sm:max-w-lg",children:[(0,t.jsxs)(m.c7,{children:[(0,t.jsx)(m.L3,{children:"Nutrition Label Scanned"}),(0,t.jsxs)(m.rr,{children:["Here's the nutritional information from the label. Add to your ",eb,"."]})]}),eg&&(0,t.jsxs)("div",{className:"max-h-[60vh] space-y-4 overflow-y-auto p-1",children:[ev&&(0,t.jsx)("div",{className:"relative aspect-video w-full overflow-hidden rounded-md",children:(0,t.jsx)(i.default,{src:ev,alt:"Scanned nutrition label",layout:"fill",objectFit:"cover"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:eg.nutritionInfo.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Serving Size: ",eg.nutritionInfo.servingSize]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Servings per Container: ",eg.nutritionInfo.servingsPerContainer]})]}),(0,t.jsxs)(Y.XI,{children:[(0,t.jsx)(Y.A0,{children:(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nd,{children:"Nutrient"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Amount"})]})}),(0,t.jsxs)(Y.BF,{children:[(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nA,{children:"Calories"}),(0,t.jsx)(Y.nA,{className:"text-right",children:eg.nutritionInfo.calories})]}),(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nA,{children:"Total Fat"}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[eg.nutritionInfo.totalFat,"g"]})]}),(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nA,{children:"Protein"}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[eg.nutritionInfo.protein,"g"]})]}),(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nA,{children:"Total Carbohydrates"}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[eg.nutritionInfo.totalCarbohydrates,"g"]})]}),(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nA,{children:"Sodium"}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[eg.nutritionInfo.sodium,"mg"]})]})]})]})]}),(0,t.jsxs)(m.Es,{children:[(0,t.jsx)(m.HM,{asChild:!0,children:(0,t.jsx)(o.$,{variant:"outline",children:"Cancel"})}),(0,t.jsxs)(o.$,{onClick:()=>eZ(eg),children:["Add to ",eb]})]})]})})]}),(0,t.jsx)(x.av,{value:"today",className:"mt-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(d.nD,{type:"multiple",defaultValue:["Breakfast"],className:"w-full",children:ee.map(e=>(0,t.jsxs)(d.As,{value:e.type,children:[(0,t.jsx)(d.$m,{className:"text-lg font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),e.type]})}),(0,t.jsx)(d.ub,{children:(0,t.jsx)(c.Zp,{children:(0,t.jsx)(c.Wu,{className:"pt-6",children:e_[e.type]&&0!==e_[e.type].length?(0,t.jsx)("div",{className:"space-y-4",children:e_[e.type].map(e=>(0,t.jsxs)(c.Zp,{className:"relative",children:[(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1",children:[(0,t.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-7 w-7",disabled:!0,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>eU(e.id),children:(0,t.jsx)(z.A,{className:"h-4 w-4"})})]}),(0,t.jsx)(c.Wu,{className:"pt-6",children:(0,t.jsxs)(Y.XI,{children:[(0,t.jsx)(Y.A0,{children:(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nd,{children:"Food"}),(0,t.jsx)(Y.nd,{children:"Portion"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Weight"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Calories"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Protein"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Carbs"}),(0,t.jsx)(Y.nd,{className:"text-right",children:"Fat"})]})}),(0,t.jsx)(Y.BF,{children:e.items.map((e,a)=>(0,t.jsxs)(Y.Hj,{children:[(0,t.jsx)(Y.nA,{children:e.name}),(0,t.jsx)(Y.nA,{children:e.portionSize||"N/A"}),(0,t.jsx)(Y.nA,{className:"text-right",children:e.weight?`${e.weight.toFixed(0)}g`:"N/A"}),(0,t.jsx)(Y.nA,{className:"text-right",children:e.calories.toFixed(0)}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[e.protein.toFixed(1),"g"]}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[e.carbohydrates.toFixed(1),"g"]}),(0,t.jsxs)(Y.nA,{className:"text-right",children:[e.fat.toFixed(1),"g"]})]},a))})]})})]},e.id))}):(0,t.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,t.jsx)(e.icon,{className:"mx-auto h-10 w-10"}),(0,t.jsx)("p",{className:"mt-4",children:e.description})]})})})})]},e.type))})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Daily Summary"}),(0,t.jsx)(c.BT,{children:"Your total intake for today against your goals."})]}),(0,t.jsxs)(c.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-4xl font-bold",children:eO.calories.toFixed(0)}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Goal: ",2e3," kcal"]}),(0,t.jsx)(h.k,{value:eJ,className:"mt-2 h-2"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Macronutrients"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(L,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{children:"Protein"})]}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[eO.protein.toFixed(1),"g / 150g"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(q,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{children:"Carbohydrates"})]}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[eO.carbohydrates.toFixed(1),"g / 250g"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{children:"Fat"})]}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[eO.fat.toFixed(1),"g / 67g"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Micronutrients"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Fiber"}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[eO.fiber.toFixed(1),"g"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Sugar"}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[eO.sugar.toFixed(1),"g"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Sodium"}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:[eO.sodium.toFixed(0),"mg"]})]})]})]})]}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{children:"Water Intake"})}),(0,t.jsxs)(c.Wu,{className:"flex items-center justify-between gap-4",children:[(0,t.jsx)(o.$,{variant:"outline",size:"icon",onClick:()=>A(Math.max(0,k.glasses-1)),disabled:0===k.glasses,children:(0,t.jsx)(B,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(H.A,{className:"h-8 w-8 text-blue-500"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:C?(0,t.jsx)(R.A,{className:"h-6 w-6 animate-spin"}):`${k.glasses} / ${k.goal}`}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"glasses"})]})]}),(0,t.jsx)(o.$,{variant:"outline",size:"icon",onClick:()=>A(k.glasses+1),children:(0,t.jsx)(U.A,{className:"h-4 w-4"})})]})]})]})]})}),(0,t.jsx)(x.av,{value:"insights",className:"mt-6",children:(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Weekly Report"}),(0,t.jsx)(c.BT,{children:"A summary of your nutrition over the last seven days."})]}),(0,t.jsxs)(c.Wu,{className:"flex h-[300px] flex-col items-center justify-center gap-4 text-center",children:[(0,t.jsx)(G.A,{className:"h-12 w-12 text-muted-foreground"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Not Enough Data"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Log your nutrition for at least 3 days to see AI-powered insights here."})]})]})]})}),(0,t.jsxs)(x.av,{value:"planner",className:"mt-6",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Personal Information"}),(0,t.jsx)(c.BT,{children:"Your meal plan is generated based on your profile. Edit your details on the profile page."})]}),(0,t.jsx)(c.wL,{children:(0,t.jsx)(o.$,{asChild:!0,children:(0,t.jsxs)(l(),{href:"/dashboard/profile",children:[(0,t.jsx)(W.A,{className:"mr-2 h-4 w-4"}),"Go to Profile"]})})})]}),(0,t.jsx)(c.Zp,{children:(0,t.jsx)(g.lV,{...eD,children:(0,t.jsxs)("form",{onSubmit:eD.handleSubmit(eG),children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"AI Meal Planner"}),(0,t.jsx)(c.BT,{children:"Generate a personalized meal plan based on your profile and goals."})]}),(0,t.jsx)(c.Wu,{className:"space-y-6",children:(0,t.jsx)(g.zB,{control:eD.control,name:"duration",render:({field:e})=>(0,t.jsxs)(g.eI,{children:[(0,t.jsx)(g.lR,{children:"Plan Duration"}),(0,t.jsxs)(j.l6,{onValueChange:e.onChange,value:String(e.value),children:[(0,t.jsx)(g.MJ,{children:(0,t.jsx)(j.bq,{children:(0,t.jsx)(j.yv,{placeholder:"Select"})})}),(0,t.jsxs)(j.gC,{children:[(0,t.jsx)(j.eb,{value:"1",children:"Daily (1 Day)"}),(0,t.jsx)(j.eb,{value:"7",children:"Weekly (7 Days)"}),(0,t.jsx)(j.eb,{value:"30",children:"Monthly (30 Days)"})]})]}),(0,t.jsx)(g.C5,{})]})})}),(0,t.jsx)(c.wL,{children:(0,t.jsxs)(o.$,{type:"submit",disabled:ek,children:[ek&&(0,t.jsx)(R.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Generate Plan"]})})]})})})]}),ek&&(0,t.jsx)(c.Zp,{className:"mt-6",children:(0,t.jsxs)(c.Wu,{className:"flex flex-col items-center justify-center p-12",children:[(0,t.jsx)(R.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Your personalized meal plan is being generated..."})]})}),eC&&(0,t.jsxs)(c.Zp,{className:"mt-6",children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(V.A,{className:"text-primary"})," Your ",eD.getValues("duration"),"-Day Meal Plan"]})}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)(d.nD,{type:"multiple",defaultValue:["Day 1"],className:"w-full",children:eC.plan.map(e=>(0,t.jsxs)(d.As,{value:e.day,children:[(0,t.jsx)(d.$m,{className:"text-xl font-bold",children:e.day}),(0,t.jsxs)(d.ub,{className:"space-y-4",children:[["breakfast","lunch","dinner"].map(a=>{let s=e[a];return(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:et[a]}),s.name]}),(0,t.jsx)(c.BT,{children:s.description})]}),(0,t.jsxs)(c.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Ingredients"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-sm text-muted-foreground mt-2",children:s.ingredients.map((e,a)=>(0,t.jsx)("li",{children:e},a))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Instructions"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-2",children:s.instructions})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Calories:"})," ",s.calories.toFixed(0)]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Protein:"})," ",s.protein.toFixed(1),"g"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Carbs:"})," ",s.carbohydrates.toFixed(1),"g"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Fat:"})," ",s.fat.toFixed(1),"g"]})]})]})]},s.name)}),(0,t.jsxs)(c.Zp,{className:"bg-muted",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Daily Totals"}),(0,t.jsxs)(c.BT,{children:["Estimated nutritional summary for ",e.day,"."]})]}),(0,t.jsxs)(c.Wu,{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm font-semibold",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Calories:"})," ",e.dailyTotals.calories.toFixed(0)]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Protein:"})," ",e.dailyTotals.protein.toFixed(1),"g"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Carbs:"})," ",e.dailyTotals.carbohydrates.toFixed(1),"g"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Fat:"})," ",e.dailyTotals.fat.toFixed(1),"g"]})]})]})]})]},e.day))})}),(0,t.jsxs)(c.wL,{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(o.$,{onClick:eW,children:[(0,t.jsx)(P.A,{className:"mr-2 h-4 w-4 text-current"}),"Save Plan"]}),(0,t.jsxs)(o.$,{variant:"outline",onClick:()=>{if(!eC)return;let e=new Blob([er(eC,eD.getValues("duration"))],{type:"text/plain"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="meal-plan.txt",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},children:[(0,t.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Download"]}),(0,t.jsxs)(o.$,{variant:"outline",onClick:()=>{if(!eC)return;let e=er(eC,eD.getValues("duration")),a=`https://wa.me/?text=${encodeURIComponent(e)}`;window.open(a,"_blank")},children:[(0,t.jsx)(O.A,{className:"mr-2 h-4 w-4"}),"Share via WhatsApp"]})]})]})]}),(0,t.jsx)(x.av,{value:"saved-plans",className:"mt-6",children:(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Your Saved Meal Plans"}),(0,t.jsx)(c.BT,{children:"Revisit your personalized meal plans at any time."})]}),(0,t.jsx)(c.Wu,{children:w?(0,t.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,t.jsx)(R.A,{className:"h-8 w-8 animate-spin"})}):0===n.length?(0,t.jsxs)("div",{className:"flex h-[300px] flex-col items-center justify-center gap-4 text-center",children:[(0,t.jsx)(P.A,{className:"h-12 w-12 text-muted-foreground/30"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"No Saved Plans Yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:'Generate a plan in the "AI Meal Planner" tab and save it to see it here.'})]})]}):(0,t.jsx)(d.nD,{type:"multiple",className:"w-full",children:n.map(e=>(0,t.jsxs)(d.As,{value:String(e.id),children:[(0,t.jsx)(d.$m,{className:"text-lg font-semibold",children:(0,t.jsxs)("div",{className:"flex-1 text-left",children:[e.duration,"-Day Plan ",(0,t.jsxs)(X.E,{variant:"outline",className:"ml-2",children:["Created: ",(()=>{try{return(e.createdAt instanceof Date?e.createdAt:new Date(1e3*e.createdAt.seconds)).toLocaleDateString()}catch(e){return"Unknown date"}})()]})]})}),(0,t.jsx)(d.ub,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.$,{variant:"outline",size:"sm",disabled:!0,children:[(0,t.jsx)(E.A,{className:"mr-2 h-4 w-4"}),"Edit Plan"]}),(0,t.jsxs)(o.$,{variant:"destructive",size:"sm",onClick:()=>eV(e.id),children:[(0,t.jsx)(z.A,{className:"mr-2 h-4 w-4"}),"Delete Plan"]})]}),e.plan.plan.map(e=>(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{children:e.day})}),(0,t.jsxs)(c.Wu,{className:"space-y-4",children:[["breakfast","lunch","dinner"].map(a=>{let s=e[a];return(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:et[a]}),s.name]}),(0,t.jsx)(c.BT,{children:s.description})]}),(0,t.jsxs)(c.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Ingredients"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-sm text-muted-foreground mt-2",children:s.ingredients.map((e,a)=>(0,t.jsx)("li",{children:e},a))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Instructions"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-2",children:s.instructions})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Calories:"})," ",s.calories.toFixed(0)]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Protein:"})," ",s.protein.toFixed(1),"g"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Carbs:"})," ",s.carbohydrates.toFixed(1),"g"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Fat:"})," ",s.fat.toFixed(1),"g"]})]})]})]},s.name)}),(0,t.jsxs)(c.Zp,{className:"bg-muted",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Daily Totals"}),(0,t.jsxs)(c.BT,{children:["Estimated nutritional summary for ",e.day,"."]})]}),(0,t.jsxs)(c.Wu,{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm font-semibold",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Calories:"})," ",e.dailyTotals.calories.toFixed(0)]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Protein:"})," ",e.dailyTotals.protein.toFixed(1),"g"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Carbs:"})," ",e.dailyTotals.carbohydrates.toFixed(1),"g"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Fat:"})," ",e.dailyTotals.fat.toFixed(1),"g"]})]})]})]})]},e.day))]})})]},e.id))})})]})})]})]})}}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[4447,6724,5227,1658,2123,7856,4136,7300,474,6396,4414,2022],()=>s(75924));module.exports=t})();