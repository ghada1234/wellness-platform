(()=>{var e={};e.id=5105,e.ids=[5105],e.modules={3004:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(65239),s=a(48088),i=a(88170),l=a.n(i),n=a(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,80559)),"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,63144)),"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/Users/ghadaalani/Desktop/mind-main/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6211:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>o,Hj:()=>d,XI:()=>l,nA:()=>u,nd:()=>c});var r=a(60687),s=a(43210),i=a(4780);let l=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:a,className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})}));l.displayName="Table";let n=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("thead",{ref:a,className:(0,i.cn)("[&_tr]:border-b",e),...t}));n.displayName="TableHeader";let o=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("tbody",{ref:a,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t}));o.displayName="TableBody",s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("tfoot",{ref:a,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("tr",{ref:a,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let c=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("th",{ref:a,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("td",{ref:a,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("caption",{ref:a,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},8760:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},10113:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15272:(e,t,a)=>{"use strict";a.d(t,{f:()=>o});var r=a(43210),s=a(75535),i=a(33784),l=a(31568);let n=()=>{let e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${r}`},o=()=>{let{user:e}=(0,l.A)(),[t,a]=(0,r.useState)({glasses:0,goal:8}),[o,d]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),p=(0,r.useRef)(null),g=n(),f=(0,r.useCallback)(async()=>{if(!e)return void d(!1);d(!0),u(null);try{let t=(0,s.H9)(i.db,"waterIntake",`${e.uid}_${g}`),r=await (0,s.x7)(t);if(r.exists()){let e=r.data();a({glasses:e.glasses,goal:e.goal}),h(!0)}else a({glasses:0,goal:8}),h(!1)}catch(e){u(e instanceof Error?e:Error("Failed to fetch water intake"))}finally{d(!1)}},[e,g]);(0,r.useEffect)(()=>{f()},[f]);let x=(0,r.useCallback)(async(t,a)=>{if(!e)return void u(Error("User not authenticated"));try{let r=(0,s.H9)(i.db,"waterIntake",`${e.uid}_${g}`);if(m){let e={glasses:t,updatedAt:s.Dc.now()};void 0!==a&&(e.goal=a),await (0,s.mZ)(r,e)}else{let i={id:g,userId:e.uid,glasses:t,goal:a||8,date:g,createdAt:s.Dc.now(),updatedAt:s.Dc.now()};await (0,s.BN)(r,i),h(!0)}u(null)}catch(e){u(e instanceof Error?e:Error("Failed to update water intake"))}},[e,g,m]),y=async r=>{if(!e)return void u(Error("User not authenticated"));try{a(e=>({...e,goal:r})),await x(t.glasses,r)}catch(e){u(e instanceof Error?e:Error("Failed to update water goal"))}};return(0,r.useEffect)(()=>()=>{p.current&&clearTimeout(p.current)},[]),{waterIntake:t,loading:o,error:c,updateWaterIntake:t=>{if(!e)return void u(Error("User not authenticated"));a(e=>({...e,glasses:t})),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{x(t)},1500)},updateWaterGoal:y}}},18747:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var r=a(60687),s=a(43210),i=a(88550),l=a(44493),n=a(46657),o=a(29523),d=a(89667),c=a(80013),u=a(63503),m=a(51212),h=a(40219),p=a(82614);let g=(0,p.A)("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);var f=a(97034),x=a(35137);let y=(0,p.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var j=a(15272),v=a(47237),b=a(29867);function w(){let{waterIntake:e,updateWaterGoal:t}=(0,j.f)(),{data:a}=(0,v.j)("activityLog"),{data:i}=(0,v.j)("journalEntries"),{data:p}=(0,v.j)("meditationSessions"),{toast:w}=(0,b.dj)(),[N,A]=(0,s.useState)(!1),[k,L]=(0,s.useState)(e.goal),D=new Date().toLocaleDateString(),$=a.filter(e=>new Date(e.createdAt).toLocaleDateString()===D).reduce((e,t)=>e+t.duration,0),M=p.filter(e=>new Date(e.createdAt).toLocaleDateString()===D).reduce((e,t)=>e+t.duration,0),E=i.filter(e=>new Date(e.createdAt).toLocaleDateString()===D).length,S=async()=>{if(k<1||k>20)return void w({variant:"destructive",title:"Invalid Goal",description:"Water goal must be between 1 and 20 glasses."});try{await t(k),w({title:"Goal Updated!",description:`Your daily water goal is now ${k} glasses.`}),A(!1)}catch(e){w({variant:"destructive",title:"Failed to Update Goal",description:"Could not update your water goal. Please try again."})}},C=[{icon:m.A,title:"Meditate",current:M,target:10,unit:"minutes",editable:!1},{icon:h.A,title:"Drink Water",current:e.glasses,target:e.goal,unit:"glasses",editable:!0},{icon:g,title:"Walk",current:$,target:30,unit:"minutes",editable:!1},{icon:f.A,title:"Journal",current:E,target:1,unit:"entry",editable:!1}],R=(e,t)=>0===t?0:Math.min(e/t*100,100),q=(e,t,a)=>{if(e>=t)return"Completed";let r=t-e,s=r>1&&!a.endsWith("s")?`${a}s`:a;return`${r} ${s} more to go`};return(0,r.jsxs)(l.Zp,{className:"lg:col-span-2",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Daily Goals"}),(0,r.jsx)(l.BT,{children:"Stay on track with your wellness targets for today."})]}),(0,r.jsx)(l.Wu,{className:"grid gap-6",children:C.map(t=>{let a=R(t.current,t.target),s=q(t.current,t.target,t.unit);return(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-secondary",children:(0,r.jsx)(t.icon,{className:"h-5 w-5 text-muted-foreground"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,r.jsx)("p",{className:"font-medium",children:t.title}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.current.toLocaleString()," / ",t.target.toLocaleString()," ",t.unit]}),t.editable&&(0,r.jsxs)(u.lG,{open:N,onOpenChange:A,children:[(0,r.jsx)(u.zM,{asChild:!0,children:(0,r.jsx)(o.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>L(e.goal),children:(0,r.jsx)(x.A,{className:"h-3 w-3"})})}),(0,r.jsxs)(u.Cf,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(u.c7,{children:[(0,r.jsx)(u.L3,{children:"Update Water Goal"}),(0,r.jsx)(u.rr,{children:"Set your daily water intake goal in glasses."})]}),(0,r.jsx)("div",{className:"grid gap-4 py-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"water-goal",children:"Daily Goal (glasses)"}),(0,r.jsx)(d.p,{id:"water-goal",type:"number",min:"1",max:"20",value:k,onChange:e=>L(parseInt(e.target.value)||8),placeholder:"8"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recommended: 6-8 glasses per day"})]})}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(o.$,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),(0,r.jsxs)(o.$,{onClick:S,children:[(0,r.jsx)(y,{className:"mr-2 h-4 w-4"}),"Save Goal"]})]})]})]})]})]}),(0,r.jsx)(n.k,{value:a,className:"mt-1 h-2"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:s})]})]},t.title)})})]})}var N=a(21074),A=a(45963),k=a(10113),L=a(21653),D=a(55485),$=a(81770),M=a(11516);let E={mood:N.A,meditation:m.A,nutrition:A.A,activity:k.A,sleep:L.A,journal:D.A,breathing:$.A},S={mood:"moodEntries",meditation:"meditationLog",nutrition:"mealEntries",activity:"activityLog",sleep:"sleepLog",journal:"journalLog",breathing:"breathingLog"},C=e=>{let t=Math.floor((new Date().getTime()-e.getTime())/1e3),a=t/31536e3;return a>1?`${Math.floor(a)} years ago`:(a=t/2592e3)>1?`${Math.floor(a)} months ago`:(a=t/86400)>1?`${Math.floor(a)} days ago`:(a=t/3600)>1?`${Math.floor(a)} hours ago`:(a=t/60)>1?`${Math.floor(a)} minutes ago`:`${Math.floor(t)} seconds ago`},R=(e,t)=>t.map(t=>{let a,r="";switch(e){case"moodEntries":r=`Logged '${t.mood}' mood`;break;case"meditationLog":r=`Completed '${t.title}' meditation`;break;case"mealEntries":r=`Logged ${t.type}`;break;case"activityLog":r=`Logged '${t.activityName}' activity`;break;case"sleepLog":r=`Logged ${t.duration}h of sleep`;break;case"journalLog":r="Wrote a journal entry";break;case"breathingLog":r=`Completed '${t.technique}' breathing`;break;default:r="Logged an activity"}return a=t.createdAt?"function"==typeof t.createdAt.toDate?t.createdAt.toDate():t.createdAt instanceof Date?t.createdAt:"string"==typeof t.createdAt||"number"==typeof t.createdAt?new Date(t.createdAt):new Date:new Date,{id:t.id,type:Object.keys(S).find(t=>S[t]===e)||"activity",text:r,createdAt:a}});function q(){let{data:e,loading:t}=(0,v.j)("moodEntries",{limit:5}),{data:a,loading:i}=(0,v.j)("meditationLog",{limit:5}),{data:n,loading:o}=(0,v.j)("mealEntries",{limit:5}),{data:d,loading:c}=(0,v.j)("activityLog",{limit:5}),{data:u,loading:m}=(0,v.j)("sleepLog",{limit:5}),{data:h,loading:p}=(0,v.j)("journalLog",{limit:5}),{data:g,loading:f}=(0,v.j)("breathingLog",{limit:5}),x=s.useMemo(()=>[...R("moodEntries",e),...R("meditationLog",a),...R("mealEntries",n),...R("activityLog",d),...R("sleepLog",u),...R("journalLog",h),...R("breathingLog",g)].sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).slice(0,5),[e,a,n,d,u,h,g]),y=t||i||o||c||m||p||f;return(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"Recent Activity"})}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:y?(0,r.jsx)("div",{className:"flex justify-center items-center h-24",children:(0,r.jsx)(M.A,{className:"h-8 w-8 animate-spin"})}):0===x.length?(0,r.jsx)("div",{className:"text-center text-muted-foreground py-4",children:(0,r.jsx)("p",{children:"No recent activity. Log something to get started!"})}):x.map(e=>{let t=E[e.type]||k.A;return(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-secondary",children:(0,r.jsx)(t,{className:"h-4 w-4 text-muted-foreground"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:e.text}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:C(e.createdAt)})]})]},`${e.type}-${e.id}`)})})]})}var T=a(8760),P=a(85814),_=a.n(P);function F(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Zp,{className:"flex flex-col",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{}),"Log Your Mood"]}),(0,r.jsx)(l.BT,{children:"Check in with your emotions to understand your mental landscape."})]}),(0,r.jsx)(l.wL,{className:"mt-auto",children:(0,r.jsx)(o.$,{asChild:!0,className:"w-full",children:(0,r.jsxs)(_(),{href:"/dashboard/mood",children:["Log Mood",(0,r.jsx)(T.A,{})]})})})]}),(0,r.jsxs)(l.Zp,{className:"flex flex-col",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(D.A,{}),"Write in your Journal"]}),(0,r.jsx)(l.BT,{children:"Reflect on your day, your thoughts, and your feelings."})]}),(0,r.jsx)(l.wL,{className:"mt-auto",children:(0,r.jsx)(o.$,{asChild:!0,className:"w-full",children:(0,r.jsxs)(_(),{href:"/dashboard/journal",children:["Start Writing",(0,r.jsx)(T.A,{})]})})})]})]})}var G=a(2614),U=a(6211);let B={Mood:"moodEntries",Meditation:"meditationLog",Nutrition:"mealEntries",Activity:"activityLog",Sleep:"sleepLog",Journal:"journalLog",Breathing:"breathingLog"},Z=e=>e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),z=(e,t)=>t.map(t=>{let a,r="",s=Object.keys(B).find(t=>B[t]===e)||"Unknown";switch(e){case"moodEntries":r=`${t.mood} mood, ${t.energy} energy`;break;case"meditationLog":r=`${t.title} (${t.duration} min)`;break;case"mealEntries":r=`${t.type} - ${t.items.length} item(s)`;break;case"activityLog":r=`${t.activityName} (${t.duration} min)`;break;case"sleepLog":r=`${t.duration} hours, ${t.quality} quality`;break;case"journalLog":r=`Entry with ${t.content.split(" ").length} words`;break;case"breathingLog":r=`${t.technique} (${t.duration} min)`;break;default:r="Logged an activity"}return a=t.createdAt?"function"==typeof t.createdAt.toDate?t.createdAt.toDate():t.createdAt instanceof Date?t.createdAt:"string"==typeof t.createdAt||"number"==typeof t.createdAt?new Date(t.createdAt):new Date:new Date,{id:t.id,type:s,text:r,createdAt:a}});function H(){let{data:e,loading:t}=(0,v.j)("moodEntries",{limit:10}),{data:a,loading:i}=(0,v.j)("meditationLog",{limit:10}),{data:n,loading:o}=(0,v.j)("mealEntries",{limit:10}),{data:d,loading:c}=(0,v.j)("activityLog",{limit:10}),{data:u,loading:m}=(0,v.j)("sleepLog",{limit:10}),{data:h,loading:p}=(0,v.j)("journalLog",{limit:10}),{data:g,loading:f}=(0,v.j)("breathingLog",{limit:10}),x=s.useMemo(()=>[...z("moodEntries",e),...z("meditationLog",a),...z("mealEntries",n),...z("activityLog",d),...z("sleepLog",u),...z("journalLog",h),...z("breathingLog",g)].sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).slice(0,10),[e,a,n,d,u,h,g]),y=t||i||o||c||m||p||f;return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Recent Logs"}),(0,r.jsx)(l.BT,{children:"A summary of your most recent wellness entries."})]}),(0,r.jsx)(l.Wu,{children:y?(0,r.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,r.jsx)(M.A,{className:"h-8 w-8 animate-spin"})}):0===x.length?(0,r.jsx)("div",{className:"text-center text-muted-foreground py-12",children:(0,r.jsx)("p",{children:"No data logged yet. Start by tracking an activity!"})}):(0,r.jsxs)(U.XI,{children:[(0,r.jsx)(U.A0,{children:(0,r.jsxs)(U.Hj,{children:[(0,r.jsx)(U.nd,{children:"Type"}),(0,r.jsx)(U.nd,{children:"Details"}),(0,r.jsx)(U.nd,{className:"text-right",children:"Time"})]})}),(0,r.jsx)(U.BF,{children:x.map(e=>(0,r.jsxs)(U.Hj,{children:[(0,r.jsx)(U.nA,{className:"font-medium",children:e.type}),(0,r.jsx)(U.nA,{children:e.text}),(0,r.jsx)(U.nA,{className:"text-right",children:Z(e.createdAt)})]},`${e.type}-${e.id}`))})]})})]})}function I(){let{data:e}=(0,v.j)("sleepLog"),{data:t}=(0,v.j)("mealEntries"),{data:a}=(0,v.j)("activityLog"),{data:s}=(0,v.j)("moodEntries"),{waterIntake:l}=(0,j.f)(),n=e.length>0?`${e[0].duration}h`:"N/A",o=t.length>0?t[0]:null,d=o?new Date(o.createdAt).toLocaleDateString():null,c=t.filter(e=>new Date(e.createdAt).toLocaleDateString()===d).reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.calories,0),0),u=a.length>0?a[0]:null,m=u?new Date(u.createdAt).toLocaleDateString():null,p=a.filter(e=>new Date(e.createdAt).toLocaleDateString()===m).reduce((e,t)=>e+t.duration,0),g=s.length>0?s[0].mood:"N/A",f=`${l.glasses}/${l.goal}`,x=new Date().toLocaleDateString(),y=e=>!!e&&(e instanceof Date?e:e.toDate()).toLocaleDateString()===x,b=(e,t)=>y(e[0]?.createdAt)?`Today's ${t}`:`Last ${t}`;return(0,r.jsxs)("div",{className:"flex-1 space-y-6 p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-5",children:[(0,r.jsx)(i.h,{title:b(e,"Sleep"),value:n,description:"",icon:L.A}),(0,r.jsx)(i.h,{title:b(t,"Nutrition"),value:c.toFixed(0),description:"Calories consumed",icon:G.A}),(0,r.jsx)(i.h,{title:b(a,"Activity"),value:`${p} min`,description:"Workout time",icon:k.A}),(0,r.jsx)(i.h,{title:b(s,"Mood"),value:g,description:"How you're feeling",icon:N.A}),(0,r.jsx)(i.h,{title:"Water Intake",value:f,description:"Today's Glasses",icon:h.A})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsx)(w,{}),(0,r.jsx)(H,{})]}),(0,r.jsx)(q,{})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:(0,r.jsx)(F,{})})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21653:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]])},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35137:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},37366:e=>{"use strict";e.exports=require("dns")},45963:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])},46657:(e,t,a)=>{"use strict";a.d(t,{k:()=>b});var r=a(60687),s=a(43210),i=a(11273),l=a(3416),n="Progress",[o,d]=(0,i.A)(n),[c,u]=o(n),m=s.forwardRef((e,t)=>{var a,s;let{__scopeProgress:i,value:n=null,max:o,getValueLabel:d=g,...u}=e;(o||0===o)&&!y(o)&&console.error((a=`${o}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=y(o)?o:100;null===n||j(n,m)||console.error((s=`${n}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let h=j(n,m)?n:null,p=x(h)?d(h,m):void 0;return(0,r.jsx)(c,{scope:i,value:h,max:m,children:(0,r.jsx)(l.sG.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":x(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":f(h,m),"data-value":h??void 0,"data-max":m,...u,ref:t})})});m.displayName=n;var h="ProgressIndicator",p=s.forwardRef((e,t)=>{let{__scopeProgress:a,...s}=e,i=u(h,a);return(0,r.jsx)(l.sG.div,{"data-state":f(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:t})});function g(e,t){return`${Math.round(e/t*100)}%`}function f(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function x(e){return"number"==typeof e}function y(e){return x(e)&&!isNaN(e)&&e>0}function j(e,t){return x(e)&&!isNaN(e)&&e<=t&&e>=0}p.displayName=h;var v=a(4780);let b=s.forwardRef(({className:e,value:t,...a},s)=>(0,r.jsx)(m,{ref:s,className:(0,v.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:(0,r.jsx)(p,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));b.displayName=m.displayName},47237:(e,t,a)=>{"use strict";a.d(t,{j:()=>n});var r=a(43210),s=a(75535),i=a(33784),l=a(31568);let n=(e,t={})=>{let{user:a,loading:n}=(0,l.A)(),[o,d]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[f,x]=(0,r.useState)(null),[y,j]=(0,r.useState)(!0),v=(0,r.useMemo)(()=>t,[t.daily,t.limit]),b=(0,r.useCallback)(async(t=!1,r=null)=>{if(!a)return void u(!1);t?h(!0):u(!0),g(null);try{console.log("Fetching data for user:",a.uid,"path:",e);let l=[(0,s._M)("userId","==",a.uid)];if(v.daily){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate());l.push((0,s._M)("createdAt",">=",s.Dc.fromDate(t)))}l.push((0,s.My)("createdAt","desc"));let n=v.limit||10;v.limit&&l.push((0,s.AB)(n)),t&&r&&l.push((0,s.HM)(r));let o=(0,s.P)((0,s.rJ)(i.db,e),...l),c=await (0,s.GG)(o),u=c.docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt.toDate()}));console.log(`Fetched ${u.length} documents from ${e}:`,u);let m=c.docs[c.docs.length-1]||null;x(m),j(!!v.limit&&u.length===n),t?d(e=>[...e,...u]):d(u)}catch(t){console.error("Error fetching data from",e,":",t),g(t instanceof Error?t:Error("Failed to fetch data"))}finally{u(!1),h(!1)}},[a,e,v]);(0,r.useEffect)(()=>{if(n)return void u(!0);a?(console.log("User authenticated, fetching data for path:",e),b(!1,null)):(console.log("No user, clearing data for path:",e),d([]),u(!1),j(!1),x(null),g(null))},[a,n,e]);let w=async(t,r)=>{if(!a){let e=Error("User not authenticated");throw g(e),e}let l=[...o];d(e=>e.map(e=>e.id===t?{...e,...r}:e));try{let a=(0,s.H9)(i.db,e,t);await (0,s.mZ)(a,r)}catch(e){throw g(e instanceof Error?e:Error("Failed to update document")),d(l),e}},N=async t=>{if(!a){let e=Error("User not authenticated");throw g(e),e}let r=[...o];d(e=>e.filter(e=>e.id!==t));try{await (0,s.kd)((0,s.H9)(i.db,e,t))}catch(e){throw g(e instanceof Error?e:Error("Failed to delete document")),d(r),e}};return{data:o,loading:c,error:p,addDocument:async t=>{if(!a){let e=Error("User not authenticated");throw g(e),e}let r=`temp_${Date.now()}`,l={id:r,...t,userId:a.uid,createdAt:new Date};d(e=>[l,...e].sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()));try{let l=await (0,s.gS)((0,s.rJ)(i.db,e),{...t,userId:a.uid,createdAt:s.Dc.now()});return d(e=>e.map(e=>e.id===r?{...e,id:l.id}:e)),l.id}catch(e){throw g(e instanceof Error?e:Error("Failed to add document")),d(e=>e.filter(e=>e.id!==r)),e}},updateDocument:w,deleteDocument:N,refetch:()=>b(!1,null),loadMore:()=>{y&&!m&&b(!0,f)},hasMore:y,loadingMore:m}}},54973:(e,t,a)=>{Promise.resolve().then(a.bind(a,18747))},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>h,Es:()=>g,HM:()=>u,L3:()=>f,c7:()=>p,lG:()=>o,rr:()=>x,zM:()=>d});var r=a(60687),s=a(43210),i=a(10991),l=a(78726),n=a(4780);let o=i.bL,d=i.l9,c=i.ZL,u=i.bm,m=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.hJ,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=i.hJ.displayName;let h=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(c,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(i.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=i.UC.displayName;let p=({className:e,...t})=>(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let g=({className:e,...t})=>(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});g.displayName="DialogFooter";let f=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=i.hE.displayName;let x=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=i.VY.displayName},68477:(e,t,a)=>{Promise.resolve().then(a.bind(a,80559))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var r=a(43210),s=a(3416),i=a(60687),l=r.forwardRef((e,t)=>(0,i.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=l},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(60687),s=a(43210),i=a(78148),l=a(24224),n=a(4780);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.b,{ref:a,className:(0,n.cn)(o(),e),...t}));d.displayName=i.b.displayName},80559:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/page.tsx","default")},81630:e=>{"use strict";e.exports=require("http")},88550:(e,t,a)=>{"use strict";a.d(t,{h:()=>l});var r=a(60687),s=a(44493),i=a(4780);function l({icon:e,title:t,value:a,description:l}){return(0,r.jsxs)(s.Zp,{children:[(0,r.jsxs)(s.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(s.ZB,{className:"text-sm font-medium",children:t}),(0,r.jsx)(e,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(s.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:a}),(0,r.jsx)("p",{className:(0,i.cn)("text-xs text-muted-foreground",!l&&"invisible"),children:l||"..."})]})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},97034:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[4447,6724,5227,1658,2123,7856,4414],()=>a(3004));module.exports=r})();