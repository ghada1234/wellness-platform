(()=>{var e={};e.id=1654,e.ids=[1654],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12873:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var r=a(60687),s=a(43210),n=a(64181),i=a(41936),o=a(82614);let l=(0,o.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),d=(0,o.A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var c=a(58450),u=a(57207),m=a(29523),h=a(89667),f=a(96834),p=a(44493),x=a(42692),g=a(21342);a(47237);let y=s.createContext(void 0),b=()=>{let e=s.useContext(y);if(void 0===e)throw Error("useNotifications must be used within a NotificationsProvider");return e};var v=a(54052),w=a(80013),j=a(34729),N=a(15079),M=a(63503),k=a(31568);let C=[{value:"info",label:"Info",color:"text-blue-600"},{value:"success",label:"Success",color:"text-green-600"},{value:"warning",label:"Warning",color:"text-yellow-600"},{value:"error",label:"Error",color:"text-red-600"}],D=[{name:"Welcome Message",data:{title:"Welcome!",message:"Thank you for joining us!",type:"success",actionUrl:"/dashboard",actionText:"Get Started"}},{name:"Reminder",data:{title:"Daily Reminder",message:"Don't forget to log your activities today!",type:"info",actionUrl:"/dashboard",actionText:"Log Now"}},{name:"Achievement",data:{title:"Congratulations!",message:"You've reached a new milestone!",type:"success",actionUrl:"/dashboard/wellness-report",actionText:"View Progress"}},{name:"Warning",data:{title:"Important Notice",message:"Please update your profile information.",type:"warning",actionUrl:"/dashboard/profile",actionText:"Update Profile"}}];function A(){let{addNotification:e}=b(),{user:t}=(0,k.A)(),[a,n]=s.useState(!1),[i,o]=s.useState(!1),[l,d]=s.useState({title:"",message:"",type:"info",actionUrl:"",actionText:""}),c=async a=>{if(a.preventDefault(),t){o(!0);try{await e({title:l.title,message:l.message,type:l.type,actionUrl:l.actionUrl||void 0,actionText:l.actionText||void 0}),d({title:"",message:"",type:"info",actionUrl:"",actionText:""}),n(!1)}catch(e){console.error("Error creating notification:",e)}finally{o(!1)}}},u=e=>{d(e.data)},f=(e,t)=>{d(a=>({...a,[e]:t}))};return(0,r.jsxs)(M.lG,{open:a,onOpenChange:n,children:[(0,r.jsx)(M.zM,{asChild:!0,children:(0,r.jsxs)(m.$,{size:"sm",className:"gap-2",children:[(0,r.jsx)(v.A,{className:"h-4 w-4"}),"Create Notification"]})}),(0,r.jsxs)(M.Cf,{className:"sm:max-w-md",children:[(0,r.jsx)(M.c7,{children:(0,r.jsx)(M.L3,{children:"Create New Notification"})}),(0,r.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{children:"Quick Templates"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:D.map(e=>(0,r.jsx)(m.$,{type:"button",variant:"outline",size:"sm",onClick:()=>u(e),className:"text-xs",children:e.name},e.name))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"title",children:"Title *"}),(0,r.jsx)(h.p,{id:"title",value:l.title,onChange:e=>f("title",e.target.value),placeholder:"Notification title",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"message",children:"Message *"}),(0,r.jsx)(j.T,{id:"message",value:l.message,onChange:e=>f("message",e.target.value),placeholder:"Notification message",rows:3,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"type",children:"Type"}),(0,r.jsxs)(N.l6,{value:l.type,onValueChange:e=>f("type",e),children:[(0,r.jsx)(N.bq,{children:(0,r.jsx)(N.yv,{})}),(0,r.jsx)(N.gC,{children:C.map(e=>(0,r.jsx)(N.eb,{value:e.value,children:(0,r.jsx)("span",{className:e.color,children:e.label})},e.value))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"actionUrl",children:"Action URL (optional)"}),(0,r.jsx)(h.p,{id:"actionUrl",value:l.actionUrl,onChange:e=>f("actionUrl",e.target.value),placeholder:"/dashboard/profile"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"actionText",children:"Action Button Text (optional)"}),(0,r.jsx)(h.p,{id:"actionText",value:l.actionText,onChange:e=>f("actionText",e.target.value),placeholder:"Get Started"})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,r.jsx)(m.$,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),(0,r.jsx)(m.$,{type:"submit",disabled:i,className:"flex-1",children:i?"Creating...":"Create Notification"})]})]})]})]})}function P(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}function S(e,t){let a=P(e),r=P(t),s=a.getTime()-r.getTime();return s<0?-1:s>0?1:s}let T={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function W(e){return (t={})=>{let a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}let q={date:W({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:W({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:W({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},U={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function E(e){return(t,a)=>{let r;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,s=a?.width?String(a.width):t;r=e.formattingValues[s]||e.formattingValues[t]}else{let t=e.defaultWidth,s=a?.width?String(a.width):e.defaultWidth;r=e.values[s]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function F(e){return(t,a={})=>{let r,s=a.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;let o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(l,e=>e.test(o)):function(e,t){for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(l,e=>e.test(o));return r=e.valueCallback?e.valueCallback(d):d,{value:r=a.valueCallback?a.valueCallback(r):r,rest:t.slice(o.length)}}}let R={code:"en-US",formatDistance:(e,t,a)=>{let r,s=T[e];if(r="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),a?.addSuffix)if(a.comparison&&a.comparison>0)return"in "+r;else return r+" ago";return r},formatLong:q,formatRelative:(e,t,a,r)=>U[e],localize:{ordinalNumber:(e,t)=>{let a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:E({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:E({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:E({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:E({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:E({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return(t,a={})=>{let r=t.match(e.matchPattern);if(!r)return null;let s=r[0],n=t.match(e.parsePattern);if(!n)return null;let i=e.valueCallback?e.valueCallback(n[0]):n[0];return{value:i=a.valueCallback?a.valueCallback(i):i,rest:t.slice(s.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:F({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:F({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:F({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:F({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},_={};function z(e){let t=P(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),e-a}var J=a(4780);function Y(){let{notifications:e,unreadCount:t,markAsRead:a,markAllAsRead:o,deleteNotification:y}=b(),[v,w]=s.useState(""),[j,N]=s.useState("all"),[M,k]=s.useState("all"),C=e=>{switch(e){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";default:return"ℹ️"}},D=e=>{switch(e){case"success":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-blue-600"}},T=e=>{switch(e){case"success":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"error":return"bg-red-50 border-red-200";default:return"bg-blue-50 border-blue-200"}},W=s.useMemo(()=>e.filter(e=>{let t=e.title.toLowerCase().includes(v.toLowerCase())||e.message.toLowerCase().includes(v.toLowerCase()),a="all"===j||"unread"===j&&!e.isRead||"read"===j&&e.isRead,r="all"===M||e.type===M;return t&&a&&r}),[e,v,j,M]),q=async e=>{await a(e)},U=async e=>{await y(e)},E=async()=>{await o()},F=e=>{window.location.href=e};return(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Notifications"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Stay updated with your wellness journey"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(f.E,{variant:"secondary",className:"px-3 py-1",children:[(0,r.jsx)(n.A,{className:"h-4 w-4 mr-1"}),t," unread"]}),(0,r.jsx)(A,{}),t>0&&(0,r.jsx)(m.$,{onClick:E,variant:"outline",size:"sm",children:"Mark all read"})]})]}),(0,r.jsx)(p.Zp,{children:(0,r.jsx)(p.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)(h.p,{placeholder:"Search notifications...",value:v,onChange:e=>w(e.target.value),className:"pl-10"})]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(g.rI,{children:[(0,r.jsx)(g.ty,{asChild:!0,children:(0,r.jsxs)(m.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(l,{className:"h-4 w-4 mr-2"}),"all"===j?"All":"unread"===j?"Unread":"Read"]})}),(0,r.jsxs)(g.SQ,{children:[(0,r.jsx)(g._2,{onClick:()=>N("all"),children:"All Notifications"}),(0,r.jsx)(g._2,{onClick:()=>N("unread"),children:"Unread Only"}),(0,r.jsx)(g._2,{onClick:()=>N("read"),children:"Read Only"})]})]}),(0,r.jsxs)(g.rI,{children:[(0,r.jsx)(g.ty,{asChild:!0,children:(0,r.jsx)(m.$,{variant:"outline",size:"sm",children:"all"===M?"All Types":M})}),(0,r.jsxs)(g.SQ,{children:[(0,r.jsx)(g._2,{onClick:()=>k("all"),children:"All Types"}),(0,r.jsx)(g._2,{onClick:()=>k("info"),children:"Info"}),(0,r.jsx)(g._2,{onClick:()=>k("success"),children:"Success"}),(0,r.jsx)(g._2,{onClick:()=>k("warning"),children:"Warning"}),(0,r.jsx)(g._2,{onClick:()=>k("error"),children:"Error"})]})]})]})]})})}),(0,r.jsxs)(p.Zp,{children:[(0,r.jsx)(p.aR,{children:(0,r.jsxs)(p.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(n.A,{className:"h-5 w-5"}),"Your Notifications",(0,r.jsx)(f.E,{variant:"outline",children:W.length})]})}),(0,r.jsx)(p.Wu,{className:"p-0",children:(0,r.jsx)(x.F,{className:"h-[600px]",children:0===W.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)(n.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No notifications found"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:v||"all"!==j||"all"!==M?"Try adjusting your filters or search terms.":"You're all caught up! New notifications will appear here."})]}):(0,r.jsx)("div",{className:"divide-y",children:W.map(e=>(0,r.jsx)("div",{className:(0,J.cn)("p-4 hover:bg-muted/50 transition-colors",!e.isRead&&"bg-blue-50/50 border-l-4 border-l-blue-500"),children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"text-2xl",children:C(e.type)}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h3",{className:(0,J.cn)("font-semibold",D(e.type)),children:e.title}),!e.isRead&&(0,r.jsx)(f.E,{variant:"secondary",className:"text-xs",children:"New"})]}),(0,r.jsx)("p",{className:"text-muted-foreground mb-2",children:e.message}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,r.jsx)("span",{children:function(e,t){var a;return function(e,t,a){let r,s,n,i=a?.locale??_.locale??R,o=S(e,t);if(isNaN(o))throw RangeError("Invalid time value");let l=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:o});o>0?(r=P(t),s=P(e)):(r=P(e),s=P(t));let d=function(e,t,a){var r;return(r=void 0,e=>{let t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})((P(e)-P(t))/1e3)}(s,r),c=Math.round((d-(z(s)-z(r))/1e3)/60);if(c<2)if(a?.includeSeconds)if(d<5)return i.formatDistance("lessThanXSeconds",5,l);else if(d<10)return i.formatDistance("lessThanXSeconds",10,l);else if(d<20)return i.formatDistance("lessThanXSeconds",20,l);else if(d<40)return i.formatDistance("halfAMinute",0,l);else if(d<60)return i.formatDistance("lessThanXMinutes",1,l);else return i.formatDistance("xMinutes",1,l);else if(0===c)return i.formatDistance("lessThanXMinutes",1,l);else return i.formatDistance("xMinutes",c,l);if(c<45)return i.formatDistance("xMinutes",c,l);if(c<90)return i.formatDistance("aboutXHours",1,l);if(c<1440){let e=Math.round(c/60);return i.formatDistance("aboutXHours",e,l)}if(c<2520)return i.formatDistance("xDays",1,l);else if(c<43200){let e=Math.round(c/1440);return i.formatDistance("xDays",e,l)}else if(c<86400)return n=Math.round(c/43200),i.formatDistance("aboutXMonths",n,l);if((n=function(e,t){let a,r=P(e),s=P(t),n=S(r,s),i=Math.abs(function(e,t){let a=P(e),r=P(t);return 12*(a.getFullYear()-r.getFullYear())+(a.getMonth()-r.getMonth())}(r,s));if(i<1)a=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*i);let t=S(r,s)===-n;(function(e){let t=P(e);return+function(e){let t=P(e);return t.setHours(23,59,59,999),t}(t)==+function(e){let t=P(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}(t)})(P(e))&&1===i&&1===S(e,s)&&(t=!1),a=n*(i-Number(t))}return 0===a?0:a}(s,r))<12){let e=Math.round(c/43200);return i.formatDistance("xMonths",e,l)}{let e=n%12,t=Math.trunc(n/12);return e<3?i.formatDistance("aboutXYears",t,l):e<9?i.formatDistance("overXYears",t,l):i.formatDistance("almostXYears",t+1,l)}}(e,(a=Date.now(),e instanceof Date?new e.constructor(a):new Date(a)),t)}(e.createdAt instanceof Date?e.createdAt:e.createdAt.toDate(),{addSuffix:!0})}),(0,r.jsx)(f.E,{variant:"outline",className:(0,J.cn)("text-xs",T(e.type)),children:e.type})]}),e.actionUrl&&e.actionText&&(0,r.jsx)(m.$,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>F(e.actionUrl),children:e.actionText})]}),(0,r.jsxs)(g.rI,{children:[(0,r.jsx)(g.ty,{asChild:!0,children:(0,r.jsx)(m.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,r.jsx)(d,{className:"h-4 w-4"})})}),(0,r.jsxs)(g.SQ,{align:"end",children:[!e.isRead&&(0,r.jsxs)(g._2,{onClick:()=>q(e.id),children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Mark as read"]}),(0,r.jsxs)(g._2,{onClick:()=>U(e.id),className:"text-destructive",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]})},e.id))})})})]})]})}},15079:(e,t,a)=>{"use strict";a.d(t,{bq:()=>m,eb:()=>x,gC:()=>p,l6:()=>c,yv:()=>u});var r=a(60687),s=a(43210),n=a(28695),i=a(61662),o=a(89743),l=a(58450),d=a(4780);let c=n.bL;n.YJ;let u=n.WT,m=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.l9,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=n.l9.displayName;let h=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})}));h.displayName=n.PP.displayName;let f=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}));f.displayName=n.wn.displayName;let p=s.forwardRef(({className:e,children:t,position:a="popper",...s},i)=>(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[(0,r.jsx)(h,{}),(0,r.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(f,{})]})}));p.displayName=n.UC.displayName,s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.JU.displayName;let x=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.q7,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:t})]}));x.displayName=n.q7.displayName,s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.wv.displayName},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},26636:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/notifications/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/notifications/page.tsx","default")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32904:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(65239),s=a(48088),n=a(88170),i=a.n(n),o=a(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d={children:["",{children:["dashboard",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,26636)),"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/notifications/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,63144)),"/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/Users/ghadaalani/Desktop/mind-main/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/ghadaalani/Desktop/mind-main/src/app/dashboard/notifications/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/notifications/page",pathname:"/dashboard/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(60687),s=a(43210),n=a(4780);let i=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));i.displayName="Textarea"},37366:e=>{"use strict";e.exports=require("dns")},38660:(e,t,a)=>{Promise.resolve().then(a.bind(a,26636))},41936:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},42692:(e,t,a)=>{"use strict";a.d(t,{F:()=>o});var r=a(60687),s=a(43210),n=a(68123),i=a(4780);let o=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.bL,{ref:s,className:(0,i.cn)("relative overflow-hidden",e),...a,children:[(0,r.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,r.jsx)(l,{}),(0,r.jsx)(n.OK,{})]}));o.displayName=n.bL.displayName;let l=s.forwardRef(({className:e,orientation:t="vertical",...a},s)=>(0,r.jsx)(n.VM,{ref:s,orientation:t,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...a,children:(0,r.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=n.VM.displayName},47237:(e,t,a)=>{"use strict";a.d(t,{j:()=>o});var r=a(43210),s=a(75535),n=a(33784),i=a(31568);let o=(e,t={})=>{let{user:a,loading:o}=(0,i.A)(),[l,d]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),[y,b]=(0,r.useState)(!0),v=(0,r.useMemo)(()=>t,[t.daily,t.limit]),w=(0,r.useCallback)(async(t=!1,r=null)=>{if(!a)return void u(!1);t?h(!0):u(!0),p(null);try{console.log("Fetching data for user:",a.uid,"path:",e);let i=[(0,s._M)("userId","==",a.uid)];if(v.daily){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate());i.push((0,s._M)("createdAt",">=",s.Dc.fromDate(t)))}i.push((0,s.My)("createdAt","desc"));let o=v.limit||10;v.limit&&i.push((0,s.AB)(o)),t&&r&&i.push((0,s.HM)(r));let l=(0,s.P)((0,s.rJ)(n.db,e),...i),c=await (0,s.GG)(l),u=c.docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt.toDate()}));console.log(`Fetched ${u.length} documents from ${e}:`,u);let m=c.docs[c.docs.length-1]||null;g(m),b(!!v.limit&&u.length===o),t?d(e=>[...e,...u]):d(u)}catch(t){console.error("Error fetching data from",e,":",t),p(t instanceof Error?t:Error("Failed to fetch data"))}finally{u(!1),h(!1)}},[a,e,v]);(0,r.useEffect)(()=>{if(o)return void u(!0);a?(console.log("User authenticated, fetching data for path:",e),w(!1,null)):(console.log("No user, clearing data for path:",e),d([]),u(!1),b(!1),g(null),p(null))},[a,o,e]);let j=async(t,r)=>{if(!a){let e=Error("User not authenticated");throw p(e),e}let i=[...l];d(e=>e.map(e=>e.id===t?{...e,...r}:e));try{let a=(0,s.H9)(n.db,e,t);await (0,s.mZ)(a,r)}catch(e){throw p(e instanceof Error?e:Error("Failed to update document")),d(i),e}},N=async t=>{if(!a){let e=Error("User not authenticated");throw p(e),e}let r=[...l];d(e=>e.filter(e=>e.id!==t));try{await (0,s.kd)((0,s.H9)(n.db,e,t))}catch(e){throw p(e instanceof Error?e:Error("Failed to delete document")),d(r),e}};return{data:l,loading:c,error:f,addDocument:async t=>{if(!a){let e=Error("User not authenticated");throw p(e),e}let r=`temp_${Date.now()}`,i={id:r,...t,userId:a.uid,createdAt:new Date};d(e=>[i,...e].sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()));try{let i=await (0,s.gS)((0,s.rJ)(n.db,e),{...t,userId:a.uid,createdAt:s.Dc.now()});return d(e=>e.map(e=>e.id===r?{...e,id:i.id}:e)),i.id}catch(e){throw p(e instanceof Error?e:Error("Failed to add document")),d(e=>e.filter(e=>e.id!==r)),e}},updateDocument:j,deleteDocument:N,refetch:()=>w(!1,null),loadMore:()=>{y&&!m&&w(!0,x)},hasMore:y,loadingMore:m}}},54052:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},55511:e=>{"use strict";e.exports=require("crypto")},57207:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>h,Es:()=>p,HM:()=>u,L3:()=>x,c7:()=>f,lG:()=>l,rr:()=>g,zM:()=>d});var r=a(60687),s=a(43210),n=a(10991),i=a(78726),o=a(4780);let l=n.bL,d=n.l9,c=n.ZL,u=n.bm,m=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.hJ,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=n.hJ.displayName;let h=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(c,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(n.UC,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=n.UC.displayName;let f=({className:e,...t})=>(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});f.displayName="DialogHeader";let p=({className:e,...t})=>(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p.displayName="DialogFooter";let x=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));x.displayName=n.hE.displayName;let g=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=n.VY.displayName},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,t,a)=>{"use strict";a.d(t,{b:()=>o});var r=a(43210),s=a(3416),n=a(60687),i=r.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(60687),s=a(43210),n=a(78148),i=a(24224),o=a(4780);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.b,{ref:a,className:(0,o.cn)(l(),e),...t}));d.displayName=n.b.displayName},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},91812:(e,t,a)=>{Promise.resolve().then(a.bind(a,12873))},94735:e=>{"use strict";e.exports=require("events")},96834:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var r=a(60687);a(43210);var s=a(24224),n=a(4780);let i=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...a}){return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),e),...a})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[4447,6724,5227,1658,2123,7856,7300,8123,4414],()=>a(32904));module.exports=r})();