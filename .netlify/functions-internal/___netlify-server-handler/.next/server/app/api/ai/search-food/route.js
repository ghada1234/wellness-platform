(()=>{var e={};e.id=1984,e.ids=[1984],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},7252:e=>{"use strict";e.exports=require("express")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13846:(e,r,t)=>{"use strict";t.d(r,{ai:()=>i});var s=t(97955),o=t(54563);let i=(0,s.genkit)({plugins:[(0,o.YF)()],model:"googleai/gemini-2.5-flash"})},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},18868:()=>{},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19185:e=>{"use strict";e.exports=require("dgram")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37830:e=>{"use strict";e.exports=require("node:stream/web")},44708:e=>{"use strict";e.exports=require("node:https")},44725:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=44725,e.exports=r},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47556:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>l,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>h});var s={};t.r(s),t.d(s,{POST:()=>p});var o=t(96559),i=t(48088),a=t(37719),u=t(32190),n=t(92135);async function p(e){try{console.log("API Key available:",!!process.env.GEMINI_API_KEY);let r=await e.json();console.log("Food search request body:",r);let t=await (0,n.B)(r);return console.log("Food search result:",t),u.NextResponse.json(t)}catch(e){return console.error("Error in food search API:",e),u.NextResponse.json({error:"Failed to search food",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/ai/search-food/route",pathname:"/api/ai/search-food",filename:"route",bundlePath:"app/api/ai/search-food/route"},resolvedPagePath:"/Users/ghadaalani/Desktop/mind-main/src/app/api/ai/search-food/route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:h,serverHooks:m}=c;function l(){return(0,a.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:h})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},58513:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"406938deed17b6b8e3e67afd1f1c7aa05ac09202e2":()=>s.B});var s=t(92135)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},91645:e=>{"use strict";e.exports=require("net")},92135:(e,r,t)=>{"use strict";t.d(r,{B:()=>c});var s=t(67218);t(79130);var o=t(13846),i=t(97955),a=t(17478);let u=i.z.object({query:i.z.string().describe('The food item to search for (e.g., "apple", "chicken breast", "pasta").')}),n=i.z.object({name:i.z.string().describe("The name of the food item."),portionSize:i.z.string().describe('A standard portion size (e.g., "1 medium", "100g", "1 cup").'),weight:i.z.number().describe("The weight in grams for the standard portion."),calories:i.z.number().describe("Calories per the standard portion."),protein:i.z.number().describe("Protein in grams per the standard portion."),carbohydrates:i.z.number().describe("Carbohydrates in grams per the standard portion."),fat:i.z.number().describe("Fat in grams per the standard portion."),sugar:i.z.number().describe("Sugar in grams per the standard portion."),sodium:i.z.number().describe("Sodium in milligrams per the standard portion."),fiber:i.z.number().describe("Fiber in grams per the standard portion.")}),p=i.z.object({foodItems:i.z.array(n).describe("A list of food items matching the search query with their nutritional information.")});async function c(e){return h(e)}let d=o.ai.definePrompt({name:"searchFoodPrompt",input:{schema:u},output:{schema:p},prompt:`You are a nutrition expert. Search for food items based on the user's query and provide accurate nutritional information.

  For each food item found, provide:
  - The name of the food item
  - A standard portion size (e.g., "1 medium apple", "100g chicken breast", "1 cup cooked pasta")
  - The weight in grams for that portion
  - Complete nutritional breakdown per the standard portion

  Search query: {{query}}

  Return 3-5 relevant food items that match the search query with accurate nutritional data.`}),h=o.ai.defineFlow({name:"searchFoodFlow",inputSchema:u,outputSchema:p},async e=>{let{output:r}=await d(e);return r});(0,a.D)([c]),(0,s.A)(c,"406938deed17b6b8e3e67afd1f1c7aa05ac09202e2",null)},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,6724,580,8906],()=>t(47556));module.exports=s})();