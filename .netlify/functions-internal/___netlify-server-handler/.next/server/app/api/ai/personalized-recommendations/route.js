(()=>{var e={};e.id=5494,e.ids=[5494],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},2109:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"4083476f919bc22cb91be248be66cc1951b25bfe8c":()=>s.r});var s=t(48017)},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},7252:e=>{"use strict";e.exports=require("express")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13846:(e,r,t)=>{"use strict";t.d(r,{ai:()=>o});var s=t(97955),i=t(54563);let o=(0,s.genkit)({plugins:[(0,i.YF)()],model:"googleai/gemini-2.5-flash"})},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},18868:()=>{},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19185:e=>{"use strict";e.exports=require("dgram")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37830:e=>{"use strict";e.exports=require("node:stream/web")},44708:e=>{"use strict";e.exports=require("node:https")},44725:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=44725,e.exports=r},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},45717:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>h,routeModule:()=>d,serverHooks:()=>m,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{POST:()=>c});var i=t(96559),o=t(48088),n=t(37719),a=t(32190),u=t(48017);async function c(e){try{console.log("API Key available:",!!process.env.GEMINI_API_KEY);let r=await e.json();console.log("Request body:",r);let t=await (0,u.r)(r);return console.log("Result:",t),a.NextResponse.json(t)}catch(e){return console.error("Error in personalized recommendations API:",e),a.NextResponse.json({error:"Failed to generate recommendations",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let d=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/ai/personalized-recommendations/route",pathname:"/api/ai/personalized-recommendations",filename:"route",bundlePath:"app/api/ai/personalized-recommendations/route"},resolvedPagePath:"/Users/ghadaalani/Desktop/mind-main/src/app/api/ai/personalized-recommendations/route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:p,workUnitAsyncStorage:l,serverHooks:m}=d;function h(){return(0,n.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:l})}},48017:(e,r,t)=>{"use strict";t.d(r,{r:()=>d});var s=t(67218);t(79130);var i=t(13846),o=t(97955),n=t(17478);let a=o.z.object({mood:o.z.string().describe("The user logged mood."),sleepDuration:o.z.number().describe("The user sleep duration in hours."),calorieIntake:o.z.number().describe("The user daily calorie intake."),workoutTime:o.z.number().describe("The user workout time in minutes."),dailySteps:o.z.number().describe("The number of steps the user took today."),meditationMinutes:o.z.number().describe("The amount of meditation the user has done today in minutes."),journalEntries:o.z.array(o.z.string()).describe("The user journal entries."),goals:o.z.array(o.z.string()).describe("The user goals.")}),u=o.z.object({title:o.z.string().describe("The title of the recommendation."),priority:o.z.enum(["High","Medium","Low"]).describe("The priority level of the recommendation."),impact:o.z.enum(["High","Medium","Low"]).describe("The potential impact of implementing the recommendation."),duration:o.z.string().describe('The estimated time to see results, e.g., "1-2 Weeks".'),description:o.z.string().describe("A detailed description of the recommendation and the reasoning behind it."),recommendedActions:o.z.array(o.z.string()).describe("A list of specific, actionable steps for the user to take.")}),c=o.z.object({recommendations:o.z.array(u).describe("A list of personalized wellness recommendations.")});async function d(e){return l(e)}let p=i.ai.definePrompt({name:"personalizedRecommendationsPrompt",input:{schema:a},output:{schema:c},prompt:`You are a wellness expert providing personalized recommendations to the user.

  Based on the user's logged data, trends, and goals, provide a list of tailored suggestions for improving their well-being. For each recommendation, provide a title, priority, impact, duration, a clear description of the issue and the benefit of addressing it, and a list of specific, actionable steps.

  Here is the user's data:
  Mood: {{{mood}}}
  Sleep Duration: {{{sleepDuration}}} hours
  Calorie Intake: {{{calorieIntake}}} calories
  Workout Time: {{{workoutTime}}} minutes
  Daily Steps: {{{dailySteps}}} steps
  Meditation: {{{meditationMinutes}}} minutes
  Journal Entries: {{#each journalEntries}} - {{{this}}}{{/each}}
  Goals: {{#each goals}} - {{{this}}}{{/each}}

  Generate 3-4 diverse and actionable recommendations based on the most important areas for improvement derived from the user's data. Ensure the recommendations are achievable and directly related to the user's data and goals.
  `}),l=i.ai.defineFlow({name:"personalizedRecommendationsFlow",inputSchema:a,outputSchema:c},async e=>{let{output:r}=await p(e);return r});(0,n.D)([d]),(0,s.A)(d,"4083476f919bc22cb91be248be66cc1951b25bfe8c",null)},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,6724,580,8906],()=>t(45717));module.exports=s})();