(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8303],{56407:(e,s,a)=>{Promise.resolve().then(a.bind(a,87349))},87349:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(95155),r=a(12115),n=a(6874),l=a.n(n),c=a(35695),i=a(62177),d=a(90221),o=a(70927),m=a(22100),x=a(30285),u=a(17759),h=a(62523),j=a(87481),p=a(50172),f=a(4607),w=a(17607);let N=o.Ik({email:o.Yj().email({message:"Please enter a valid email."}),password:o.Yj().min(6,{message:"Password must be at least 6 characters."}),confirmPassword:o.Yj()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function y(){let{signUp:e,user:s,loading:a}=(0,m.A)(),n=(0,c.useRouter)(),{toast:o}=(0,j.dj)(),[y,b]=r.useState(!1),[v,g]=r.useState(!1),[P,A]=r.useState(!1),C=(0,i.mN)({resolver:(0,d.u)(N),defaultValues:{email:"",password:"",confirmPassword:""}});r.useEffect(()=>{!a&&s&&n.push("/dashboard")},[s,a,n]);let S=async s=>{b(!0);try{await e(s.email,s.password),o({title:"Account Created!",description:"You have successfully signed up. Please sign in."}),n.push("/auth/sign-in")}catch(e){o({variant:"destructive",title:"Sign Up Failed",description:e.message||"An unexpected error occurred. Please try again."}),b(!1)}};return a||!a&&s?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsx)(p.A,{className:"h-12 w-12 animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Create an Account"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Start your wellness journey today."})]}),(0,t.jsx)(u.lV,{...C,children:(0,t.jsxs)("form",{onSubmit:C.handleSubmit(S),className:"space-y-4",children:[(0,t.jsx)(u.zB,{control:C.control,name:"email",render:e=>{let{field:s}=e;return(0,t.jsxs)(u.eI,{children:[(0,t.jsx)(u.lR,{children:"Email"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(h.p,{placeholder:"name@example.com",...s})}),(0,t.jsx)(u.C5,{})]})}}),(0,t.jsx)(u.zB,{control:C.control,name:"password",render:e=>{let{field:s}=e;return(0,t.jsxs)(u.eI,{children:[(0,t.jsx)(u.lR,{children:"Password"}),(0,t.jsx)(u.MJ,{children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.p,{type:v?"text":"password",placeholder:"••••••••",...s}),(0,t.jsx)("button",{type:"button",onClick:()=>g(!v),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-muted-foreground",children:v?(0,t.jsx)(f.A,{className:"h-4 w-4"}):(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})}),(0,t.jsx)(u.C5,{})]})}}),(0,t.jsx)(u.zB,{control:C.control,name:"confirmPassword",render:e=>{let{field:s}=e;return(0,t.jsxs)(u.eI,{children:[(0,t.jsx)(u.lR,{children:"Confirm Password"}),(0,t.jsx)(u.MJ,{children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.p,{type:P?"text":"password",placeholder:"••••••••",...s}),(0,t.jsx)("button",{type:"button",onClick:()=>A(!P),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-muted-foreground",children:P?(0,t.jsx)(f.A,{className:"h-4 w-4"}):(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})}),(0,t.jsx)(u.C5,{})]})}}),(0,t.jsxs)(x.$,{type:"submit",className:"w-full",disabled:y,children:[y&&(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]})}),(0,t.jsxs)("div",{className:"text-center text-sm",children:["Already have an account?"," ",(0,t.jsx)(l(),{href:"/auth/sign-in",className:"font-semibold text-primary",children:"Sign In"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,8198,2127,6874,5075,5779,8441,1684,7358],()=>s(56407)),_N_E=e.O()}]);