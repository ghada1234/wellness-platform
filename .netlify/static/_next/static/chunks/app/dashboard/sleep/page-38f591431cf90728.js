(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7341],{15121:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(40157).A)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])},30356:(e,s,a)=>{"use strict";a.d(s,{C:()=>c,z:()=>n});var t=a(95155),i=a(12115),l=a(54059),r=a(70154),d=a(59434);let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.bL,{className:(0,d.cn)("grid gap-2",a),...i,ref:s})});n.displayName=l.bL.displayName;let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.q7,{ref:s,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...i,children:(0,t.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(r.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=l.q7.displayName},36910:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>W});var t=a(95155),i=a(40157);let l=(0,i.A)("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);var r=a(74601);let d=(0,i.A)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);var n=a(15121),c=a(50172),o=a(61781),m=a(18763),h=a(77223),x=a(37648),u=a(12115),p=a(30285),f=a(66695),j=a(47262),g=a(62523),y=a(85057),v=a(30356),b=a(88539),N=a(93774),w=a(16238),k=a(96025),A=a(20594),T=a(81499),L=a(87481),S=a(83963);let C=[{id:"caffeine",label:"Caffeine Late",emoji:"☕️"},{id:"screen-time",label:"Screen Time",emoji:"\uD83D\uDCF1"},{id:"heavy-meal",label:"Heavy Meal",emoji:"\uD83C\uDF54"},{id:"alcohol",label:"Alcohol",emoji:"\uD83C\uDF77"},{id:"room-temp",label:"Room Temp",emoji:"\uD83C\uDF21️"},{id:"noise",label:"Noise",emoji:"\uD83D\uDD0A"},{id:"comfy-bed",label:"Comfy Bed",emoji:"\uD83D\uDECF️"},{id:"reading",label:"Reading",emoji:"\uD83D\uDCDA"}],M=[{level:"Excellent",emoji:"✨"},{level:"Good",emoji:"\uD83D\uDE0A"},{level:"Fair",emoji:"\uD83D\uDE42"},{level:"Poor",emoji:"\uD83D\uDE15"},{level:"Terrible",emoji:"\uD83D\uDE2B"}],q=[{icon:l,title:"Avoid Caffeine & Heavy Meals",description:"Avoid stimulants like caffeine or large meals close to bedtime."},{icon:r.A,title:"Create a Relaxing Routine",description:"Wind down with a book, soft music, or a warm bath."},{icon:d,title:"Limit Screen Time",description:"The blue light from screens can disrupt your sleep cycle."},{icon:n.A,title:"Optimize Your Environment",description:"Keep your bedroom dark, quiet, and cool."}],D=[{day:"Mon",hours:0},{day:"Tue",hours:0},{day:"Wed",hours:0},{day:"Thu",hours:0},{day:"Fri",hours:0},{day:"Sat",hours:0},{day:"Sun",hours:0}],R={hours:{label:"Sleep Hours",color:"hsl(var(--primary))"}},F={bedtime:"22:30",wakeTime:"06:30",quality:"Good",factors:[],notes:""};function W(){let{data:e,loading:s,addDocument:a,updateDocument:i,deleteDocument:l,hasMore:r,loadMore:d,loadingMore:n}=(0,S.j)("sleepLog",{limit:10}),[W,B]=u.useState(!1),[Z,z]=u.useState(F),{toast:E}=(0,L.dj)(),J=(e,s)=>{let a=new Date("1970-01-01T".concat(e,":00")),t=new Date("1970-01-01T".concat(s,":00"));return t<a&&t.setDate(t.getDate()+1),parseFloat(((t.getTime()-a.getTime())/36e5).toFixed(1))},H=async()=>{let e=J(Z.bedtime,Z.wakeTime);B(!0);try{Z.id?(await i(Z.id,{...Z,duration:e}),E({title:"Sleep log updated!"})):(await a({...Z,date:new Date().toLocaleDateString(),duration:e}),E({title:"Sleep data saved!"})),z(F)}catch(e){E({variant:"destructive",title:"Failed to save log"})}finally{B(!1)}},_=e=>{z(e),window.scrollTo({top:0,behavior:"smooth"})},I=async e=>{try{await l(e),E({title:"Sleep log deleted."})}catch(e){E({variant:"destructive",title:"Failed to delete log"})}},$=(e,s)=>{let a=Z.factors||[];s?z({...Z,factors:[...a,e]}):z({...Z,factors:a.filter(s=>s!==e)})},V=e=>(e instanceof Date?e:e.toDate()).toLocaleString(),Y=u.useMemo(()=>{if(0===e.length)return D;let s=[...e].sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime()).slice(-7),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return s.map(e=>({day:a[new Date(e.date).getDay()],hours:e.duration}))},[e]),K=0===e.length,O=e.length>0?(e.reduce((e,s)=>e+s.duration,0)/e.length).toFixed(1):"N/A",P=e.length>0?e[0].quality:"N/A";return(0,t.jsxs)("div",{className:"flex-1 space-y-6 p-4 md:p-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Sleep Tracker"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Monitor your sleep patterns to improve your rest and energy levels."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(f.Zp,{children:[(0,t.jsx)(f.aR,{children:(0,t.jsx)(f.ZB,{children:Z.id?"Edit Sleep Log":"Log Last Night's Sleep"})}),(0,t.jsxs)(f.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.J,{htmlFor:"bedtime",children:"Bedtime"}),(0,t.jsx)(g.p,{id:"bedtime",type:"time",value:Z.bedtime,onChange:e=>z({...Z,bedtime:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.J,{htmlFor:"wake-time",children:"Wake Time"}),(0,t.jsx)(g.p,{id:"wake-time",type:"time",value:Z.wakeTime,onChange:e=>z({...Z,wakeTime:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.J,{children:"How was your sleep quality?"}),(0,t.jsx)(v.z,{value:Z.quality,onValueChange:e=>z({...Z,quality:e}),className:"flex flex-wrap gap-4",children:M.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(v.C,{value:e.level,id:"quality-".concat(e.level.toLowerCase())}),(0,t.jsxs)(y.J,{htmlFor:"quality-".concat(e.level.toLowerCase()),children:[e.emoji," ",e.level]})]},e.level))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.J,{children:"What factors may have affected your sleep?"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4",children:C.map(e=>{var s;return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(j.S,{id:e.id,checked:null==(s=Z.factors)?void 0:s.includes(e.id),onCheckedChange:s=>$(e.id,!!s)}),(0,t.jsxs)(y.J,{htmlFor:e.id,className:"font-normal",children:[e.emoji," ",e.label]})]},e.id)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.J,{htmlFor:"notes",children:"Additional Notes (optional)"}),(0,t.jsx)(b.T,{id:"notes",placeholder:"Any dreams, thoughts, or interruptions?",value:Z.notes,onChange:e=>z({...Z,notes:e.target.value})})]})]}),(0,t.jsxs)(f.wL,{children:[(0,t.jsxs)(p.$,{onClick:H,disabled:W,children:[W&&(0,t.jsx)(c.A,{className:"mr-2 h-4 w-4 animate-spin"}),Z.id?"Update Log":"Save Sleep Data"]}),Z.id&&(0,t.jsx)(p.$,{variant:"ghost",className:"ml-2",onClick:()=>z(F),children:"Cancel Edit"})]})]}),(0,t.jsxs)(f.Zp,{children:[(0,t.jsxs)(f.aR,{children:[(0,t.jsx)(f.ZB,{children:"Sleep Log"}),(0,t.jsx)(f.BT,{children:"Your recent sleep logs."})]}),(0,t.jsx)(f.Wu,{children:s?(0,t.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,t.jsx)(c.A,{className:"h-8 w-8 animate-spin"})}):0===e.length?(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,t.jsx)(o.A,{className:"mx-auto h-12 w-12"}),(0,t.jsx)("p",{className:"mt-4 font-semibold",children:"No sleep logged yet."}),(0,t.jsx)("p",{className:"text-sm",children:"Log your first night's sleep to get started!"})]}):(0,t.jsx)("ul",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-semibold",children:[e.duration," hours"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.quality," sleep on ",V(e.createdAt)]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Bedtime: ",e.bedtime," - Wake Time: ",e.wakeTime]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(p.$,{variant:"ghost",size:"icon",onClick:()=>_(e),children:(0,t.jsx)(m.A,{className:"h-4 w-4"})}),(0,t.jsx)(p.$,{variant:"ghost",size:"icon",onClick:()=>I(e.id),children:(0,t.jsx)(h.A,{className:"h-4 w-4"})})]})]},e.id))})}),r&&(0,t.jsx)(f.wL,{children:(0,t.jsxs)(p.$,{onClick:d,disabled:n,className:"w-full",children:[n&&(0,t.jsx)(c.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Load More"]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(f.Zp,{children:[(0,t.jsxs)(f.aR,{children:[(0,t.jsx)(f.ZB,{children:"Sleep Patterns This Week"}),(0,t.jsx)(f.BT,{children:"Your sleep goal is 8 hours per night."})]}),(0,t.jsx)(f.Wu,{children:K?(0,t.jsxs)("div",{className:"flex h-[200px] flex-col items-center justify-center text-center text-muted-foreground",children:[(0,t.jsx)(x.A,{className:"h-12 w-12"}),(0,t.jsx)("p",{className:"mt-4 font-semibold",children:"No Chart Data Yet"}),(0,t.jsx)("p",{className:"text-sm",children:"Log your sleep for a few days to see your patterns."})]}):(0,t.jsx)(T.at,{config:R,className:"h-[200px] w-full",children:(0,t.jsxs)(N.E,{accessibilityLayer:!0,data:Y,children:[(0,t.jsx)(w.h,{domain:[0,12],tickLine:!1,tickMargin:10,axisLine:!1,hide:!0}),(0,t.jsx)(k.W,{dataKey:"day",tickLine:!1,tickMargin:10,axisLine:!1}),(0,t.jsx)(T.II,{cursor:!1,content:(0,t.jsx)(T.Nt,{})}),(0,t.jsx)(A.y,{dataKey:"hours",fill:"var(--color-hours)",radius:4})]})})})]}),(0,t.jsxs)(f.Zp,{children:[(0,t.jsx)(f.aR,{children:(0,t.jsx)(f.ZB,{children:"Sleep Insights"})}),(0,t.jsxs)(f.Wu,{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:O}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Avg. Sleep"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:P}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Avg. Quality"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Days Tracked"})]})]})]}),(0,t.jsxs)(f.Zp,{children:[(0,t.jsxs)(f.aR,{children:[(0,t.jsx)(f.ZB,{children:"Sleep Improvement Tips"}),(0,t.jsx)(f.BT,{children:"Simple habits for more restful nights."})]}),(0,t.jsx)(f.Wu,{className:"space-y-4",children:q.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-secondary",children:(0,t.jsx)(e.icon,{className:"h-4 w-4 text-secondary-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},e.title))})]})]})]})]})}},37648:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},47262:(e,s,a)=>{"use strict";a.d(s,{S:()=>n});var t=a(95155),i=a(12115),l=a(76981),r=a(10518),d=a(59434);let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...i,children:(0,t.jsx)(l.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})})});n.displayName=l.bL.displayName},61781:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(40157).A)("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]])},62523:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(95155),i=a(12115),l=a(59434);let r=i.forwardRef((e,s)=>{let{className:a,type:i,...r}=e;return(0,t.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});r.displayName="Input"},74601:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(40157).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},85057:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var t=a(95155),i=a(12115),l=a(40968),r=a(74466),d=a(59434);let n=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,d.cn)(n(),a),...i})});c.displayName=l.b.displayName},88539:(e,s,a)=>{"use strict";a.d(s,{T:()=>r});var t=a(95155),i=a(12115),l=a(59434);let r=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});r.displayName="Textarea"},94749:(e,s,a)=>{Promise.resolve().then(a.bind(a,36910))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,8198,2127,4052,8022,5604,2011,8441,1684,7358],()=>s(94749)),_N_E=e.O()}]);